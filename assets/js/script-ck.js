(function(e,t,n){"use strict";e.fn.foundationAccordion=function(t){var n=e(".accordion");n.hasClass("hover")&&!Modernizr.touch?e(".accordion li",this).on({mouseenter:function(){console.log("due");var t=e(this).parent(),n=e(this).children(".content").first();e(".content",t).not(n).hide().parent("li").removeClass("active");n.show(0,function(){n.parent("li").addClass("active")})}}):e(".accordion li",this).on("click.fndtn",function(){var t=e(this).parent(),n=e(this).children(".content").first();e(".content",t).not(n).hide().parent("li").removeClass("active");n.show(0,function(){n.parent("li").addClass("active")})})}})(jQuery,this);(function(e,t,n){"use strict";e.fn.foundationAlerts=function(t){var n=e.extend({callback:e.noop},t);e(document).on("click",".alert-box a.close",function(t){t.preventDefault();e(this).closest(".alert-box").fadeOut(function(){e(this).remove();n.callback()})})}})(jQuery,this);(function(e,t,n){"use strict";e.fn.foundationButtons=function(t){var n=e(document),r=e.extend({dropdownAsToggle:!0,activeClass:"active"},t),i=function(t){e(".button.dropdown").find("ul").not(t).removeClass("show-dropdown")},s=function(t){var n=e(".button.dropdown").not(t);n.add(e("> span."+r.activeClass,n)).removeClass(r.activeClass)};n.on("click.fndtn",".button.disabled",function(e){e.preventDefault()});e(".button.dropdown > ul",this).addClass("no-hover");n.on("click.fndtn",".button.dropdown:not(.split), .button.dropdown.split span",function(t){var n=e(this),o=n.closest(".button.dropdown"),u=e("> ul",o);t.preventDefault();i(r.dropdownAsToggle?u:"");u.toggleClass("show-dropdown");if(r.dropdownAsToggle){s(o);n.toggleClass(r.activeClass)}});n.on("click.fndtn","body, html",function(t){if(!e(t.originalEvent.target).is(".button.dropdown:not(.split), .button.dropdown.split span")){i();r.dropdownAsToggle&&s()}});var o=e(".button.dropdown:not(.large):not(.small):not(.tiny)",this).outerHeight()-1,u=e(".button.large.dropdown",this).outerHeight()-1,a=e(".button.small.dropdown",this).outerHeight()-1,f=e(".button.tiny.dropdown",this).outerHeight()-1;e(".button.dropdown:not(.large):not(.small):not(.tiny) > ul",this).css("top",o);e(".button.dropdown.large > ul",this).css("top",u);e(".button.dropdown.small > ul",this).css("top",a);e(".button.dropdown.tiny > ul",this).css("top",f);e(".button.dropdown.up:not(.large):not(.small):not(.tiny) > ul",this).css("top","auto").css("bottom",o-2);e(".button.dropdown.up.large > ul",this).css("top","auto").css("bottom",u-2);e(".button.dropdown.up.small > ul",this).css("top","auto").css("bottom",a-2);e(".button.dropdown.up.tiny > ul",this).css("top","auto").css("bottom",f-2)}})(jQuery,this);(function(e,t,n){"use strict";var r={templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="#"><p class="clearing-caption"></p><a href="#" class="clearing-main-left"></a><a href="#" class="clearing-main-right"></a></div>'},locked:!1},i={},s={init:function(t,n){return this.find("ul[data-clearing]").each(function(){var t=e(document),n=e(this),i=i||{},o=o||{},u=n.data("fndtn.clearing.settings");if(!u){i.$parent=n.parent();n.data("fndtn.clearing.settings",e.extend({},r,i));s.extend(s,o);s.assemble(n.find("li"));s.events()}})},events:function(){var n=e(document);n.on("click.fndtn.clearing","ul[data-clearing] li",function(t,n,r){var n=n||e(this),r=r||n;t.preventDefault();s.open(e(t.target),n,r);s.update_paddles(r)});e(t).on("resize.fndtn.clearing",function(){var t=e(".clearing-blackout .visible-img").find("img");t.length>0&&s.center(t)});n.on("click.fndtn.clearing",".clearing-main-right",function(t){var n=e(".clearing-blackout").find("ul[data-clearing]");t.preventDefault();s.go(n,"next")});n.on("click.fndtn.clearing",".clearing-main-left",function(t){var n=e(".clearing-blackout").find("ul[data-clearing]");t.preventDefault();s.go(n,"prev")});n.on("click.fndtn.clearing","a.clearing-close, div.clearing-blackout",function(t){var n=function(e){return/blackout/.test(e.selector)?e:e.closest(".clearing-blackout")}(e(this)),i,s;if(this===t.target&&n){i=n.find("div:first"),s=i.find(".visible-img");r.prev_index=0;n.find("ul[data-clearing]").attr("style","");n.removeClass("clearing-blackout");i.removeClass("clearing-container");s.hide()}return!1});n.on("keydown.fndtn.clearing",function(t){var n=e(".clearing-blackout").find("ul[data-clearing]");t.which===39&&s.go(n,"next");t.which===37&&s.go(n,"prev")});n.on("movestart",function(e){(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&e.preventDefault()});n.bind("swipeleft","ul[data-clearing] li",function(){var t=e(".clearing-blackout").find("ul[data-clearing]");s.go(t,"next")});n.bind("swiperight","ul[data-clearing] li",function(){var t=e(".clearing-blackout").find("ul[data-clearing]");s.go(t,"prev")})},assemble:function(e,t){var n=e.parent(),r=n.data("fndtn.clearing.settings"),i=n.detach(),s={grid:'<div class="carousel">'+this.outerHTML(i[0])+"</div>",viewing:r.templates.viewing},o='<div class="clearing-assembled"><div>'+s.viewing+s.grid+"</div></div>";return r.$parent.append(o)},open:function(e,t,n){var r=n.closest(".clearing-assembled"),i=r.find("div:first"),o=i.find(".visible-img"),u=o.find("img").not(e);if(!s.locked()){u.attr("src",this.load(e));u.is_good(function(){r.addClass("clearing-blackout");i.addClass("clearing-container");s.caption(o.find(".clearing-caption"),e);o.show();s.fix_height(n);s.center(u);s.shift(t,n,function(){n.siblings().removeClass("visible");n.addClass("visible")})})}},fix_height:function(t){var n=t.siblings();n.each(function(){var t=e(this),n=t.find("img");t.height()>n.outerHeight()&&t.addClass("fix-height")});n.closest("ul").width(n.length*100+"%")},update_paddles:function(e){var t=e.closest(".carousel").siblings(".visible-img");e.next().length>0?t.find(".clearing-main-right").removeClass("disabled"):t.find(".clearing-main-right").addClass("disabled");e.prev().length>0?t.find(".clearing-main-left").removeClass("disabled"):t.find(".clearing-main-left").addClass("disabled")},load:function(e){var t=e.parent().attr("href");this.preload(e);return t?t:e.attr("src")},preload:function(e){var t=e.closest("li").next(),n=e.closest("li").prev(),r,i,s,o;if(t.length>0){s=new Image;r=t.find("a");r.length>0?s.src=r.attr("href"):s.src=t.find("img").attr("src")}if(n.length>0){o=new Image;i=n.find("a");i.length>0?o.src=i.attr("href"):o.src=n.find("img").attr("src")}},caption:function(e,t){var n=t.data("caption");n?e.text(n).show():e.text("").hide()},go:function(e,t){var n=e.find(".visible"),r=n[t]();r.length>0&&r.find("img").trigger("click",[n,r])},shift:function(e,t,n){var i=t.parent(),o=i.closest(".clearing-container"),u=t.position().left,a=i.position().left,f=r.prev_index,l=this.direction(i,e,t),c=parseInt(i.css("left"),10),h=t.outerWidth(),p;if(t.index()!==f&&!/skip/.test(l)){if(/left/.test(l)){s.lock();i.animate({left:c+h},300,s.unlock)}else if(/right/.test(l)){s.lock();i.animate({left:c-h},300,s.unlock)}}else if(/skip/.test(l)){p=t.index()-r.up_count;s.lock();p>0?i.animate({left:-(p*h)},300,s.unlock):i.animate({left:0},300,s.unlock)}n()},lock:function(){r.locked=!0},unlock:function(){r.locked=!1},locked:function(){return r.locked},direction:function(t,n,i){var s=t.find("li"),o=s.outerWidth()+s.outerWidth()/4,u=e(".clearing-container"),a=Math.floor(u.outerWidth()/o)-1,f=s.length-a,l=s.index(i),c=s.index(n),h;r.up_count=a;this.adjacent(r.prev_index,l)?l>a&&l>r.prev_index?h="right":l>a-1&&l<=r.prev_index?h="left":h=!1:h="skip";r.prev_index=l;return h},adjacent:function(e,t){return t-1===e?!0:t+1===e?!0:t===e?!0:!1},center:function(e){e.css({marginLeft:-(e.outerWidth()/2),marginTop:-(e.outerHeight()/2)})},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)},extend:function(t,n){e.each(t,function(e,t){n.hasOwnProperty(e)&&(i[e]=t)});e.extend(s,n)},_super:function(e,t){return i[e].apply(this,t)}};e.fn.foundationClearing=function(t){if(s[t])return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return s.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationClearing")};(function(e){e.fn.is_good=function(t,n){function o(){s-=1;!s&&t()}function u(){this.one("load",o);if(e.browser.msie){var t=this.attr("src"),n=t.match(/\?/)?"&":"?";n+=r.cachePrefix+"="+(new Date).getTime();this.attr("src",t+n)}}var r=e.extend({},e.fn.is_good.defaults,n),i=this.find("img").add(this.filter("img")),s=i.length;return i.each(function(){var t=e(this);if(!t.attr("src")){o();return}this.complete||this.readyState===4?o():u.call(t)})};e.fn.is_good.defaults={cachePrefix:"random"}})(jQuery)})(jQuery,this);(function(e){var t=function(){return{tmp:[],hidden:null,adjust:function(t){var n=this;n.hidden=t.parents().andSelf().filter(":hidden");n.hidden.each(function(){var t=e(this);n.tmp.push(t.attr("style"));t.css({visibility:"hidden",display:"block"})})},reset:function(){var t=this;t.hidden.each(function(n){var r=e(this),i=t.tmp[n];i===undefined?r.removeAttr("style"):r.attr("style",i)});t.tmp=[];t.hidden=null}}};jQuery.foundation=jQuery.foundation||{};jQuery.foundation.customForms=jQuery.foundation.customForms||{};e.foundation.customForms.appendCustomMarkup=function(n){function i(t,n){var r=e(n).hide(),i=r.attr("type"),s=r.next("span.custom."+i);s.length===0&&(s=e('<span class="custom '+i+'"></span>').insertAfter(r));s.toggleClass("checked",r.is(":checked"));s.toggleClass("disabled",r.is(":disabled"))}function s(n,r){var i=t(),s=e(r),o=s.next("div.custom.dropdown"),u=o.find("ul"),a=o.find(".current"),f=o.find(".selector"),l=s.find("option"),c=l.filter(":selected"),h=0,p="",d,v=!1;if(s.hasClass("no-custom"))return;if(o.length===0){var m=s.hasClass("small")?"small":s.hasClass("medium")?"medium":s.hasClass("large")?"large":s.hasClass("expand")?"expand":"";o=e('<div class="'+["custom","dropdown",m].join(" ")+'"><a href="#" class="selector"></a><ul /></div>"');f=o.find(".selector");u=o.find("ul");p=l.map(function(){return"<li>"+e(this).html()+"</li>"}).get().join("");u.append(p);v=o.prepend('<a href="#" class="current">'+c.html()+"</a>").find(".current");s.after(o).hide()}else{p=l.map(function(){return"<li>"+e(this).html()+"</li>"}).get().join("");u.html("").append(p)}o.toggleClass("disabled",s.is(":disabled"));d=u.find("li");l.each(function(t){if(this.selected){d.eq(t).addClass("selected");v&&v.html(e(this).html())}});u.css("width","inherit");o.css("width","inherit");if(!o.is(".small, .medium, .large, .expand")){o.addClass("open");i.adjust(u);h=d.outerWidth()>h?d.outerWidth():h;i.reset();o.removeClass("open");o.width(h+18);u.width(h+16)}}var r={disable_class:"js-disable-custom"};n=e.extend(r,n);e("form.custom input:radio[data-customforms!=disabled]").each(i);e("form.custom input:checkbox[data-customforms!=disabled]").each(i);e("form.custom select[data-customforms!=disabled]").each(s)};var n=function(t){var n=0,r=t.next();$options=t.find("option");r.find("ul").html("");$options.each(function(){$li=e("<li>"+e(this).html()+"</li>");r.find("ul").append($li)});$options.each(function(t){if(this.selected){r.find("li").eq(t).addClass("selected");r.find(".current").html(e(this).html())}});r.removeAttr("style").find("ul").removeAttr("style");r.find("li").each(function(){r.addClass("open");e(this).outerWidth()>n&&(n=e(this).outerWidth());r.removeClass("open")});r.css("width",n+18+"px");r.find("ul").css("width",n+16+"px")},r=function(e){var t=e.prev(),n=t[0];if(!1===t.is(":disabled")){n.checked=n.checked?!1:!0;e.toggleClass("checked");t.trigger("change")}},i=function(t){var n=t.prev(),r=n[0];if(!1===n.is(":disabled")){e('input:radio[name="'+n.attr("name")+'"]').next().not(t).removeClass("checked");t.hasClass("checked")||t.toggleClass("checked");r.checked=t.hasClass("checked");n.trigger("change")}};e(document).on("click","form.custom span.custom.checkbox",function(t){t.preventDefault();t.stopPropagation();r(e(this))});e(document).on("click","form.custom span.custom.radio",function(t){t.preventDefault();t.stopPropagation();i(e(this))});e(document).on("change","form.custom select[data-customforms!=disabled]",function(t){n(e(this))});e(document).on("click","form.custom label",function(t){var n=e("#"+e(this).attr("for")+"[data-customforms!=disabled]"),s,o;if(n.length!==0)if(n.attr("type")==="checkbox"){t.preventDefault();s=e(this).find("span.custom.checkbox");r(s)}else if(n.attr("type")==="radio"){t.preventDefault();o=e(this).find("span.custom.radio");i(o)}});e(document).on("click","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(t){var n=e(this),r=n.closest("div.custom.dropdown"),i=r.prev();t.preventDefault();e("div.dropdown").removeClass("open");if(!1===i.is(":disabled")){r.toggleClass("open");r.hasClass("open")?e(document).bind("click.customdropdown",function(t){r.removeClass("open");e(document).unbind(".customdropdown")}):e(document).unbind(".customdropdown");return!1}});e(document).on("click","form.custom div.custom.dropdown li",function(t){var n=e(this),r=n.closest("div.custom.dropdown"),i=r.prev(),s=0;t.preventDefault();t.stopPropagation();e("div.dropdown").removeClass("open");n.closest("ul").find("li").removeClass("selected");n.addClass("selected");r.removeClass("open").find("a.current").html(n.html());n.closest("ul").find("li").each(function(e){n[0]==this&&(s=e)});i[0].selectedIndex=s;i.trigger("change")});e.fn.foundationCustomForms=e.foundation.customForms.appendCustomMarkup})(jQuery);(function(e,t,n){"use strict";e.fn.foundationMagellan=function(n){var r={threshold:25,activeClass:"active"},n=e.extend({},r,n);e(document).on("magellan.arrival","[data-magellan-arrival]",function(t){var r=e(this).closest("[data-magellan-expedition]"),i=r.attr("data-magellan-active-class")||n.activeClass;e(this).closest("[data-magellan-expedition]").find("[data-magellan-arrival]").not(this).removeClass(i);e(this).addClass(i)});var i=e("[data-magellan-expedition]");i.find("[data-magellan-arrival]:first").addClass(i.attr("data-magellan-active-class")||n.activeClass);e("[data-magellan-expedition=fixed]").on("magellan.update-position",function(){var t=e(this);t.data("magellan-fixed-position","");t.data("magellan-top-offset","")});e("[data-magellan-expedition=fixed]").trigger("magellan.update-position");e(t).on("resize.magellan",function(){e("[data-magellan-expedition=fixed]").trigger("magellan.update-position")});e(t).on("scroll.magellan",function(){var r=e(t).scrollTop();e("[data-magellan-expedition=fixed]").each(function(){var t=e(this);t.data("magellan-top-offset")===""&&t.data("magellan-top-offset",t.offset().top);var i=r+n.threshold>t.data("magellan-top-offset");if(t.data("magellan-fixed-position")!=i){t.data("magellan-fixed-position",i);i?t.css({position:"fixed",top:0}):t.css({position:"",top:""})}})});e(t).on("scroll.magellan",function(r){var i=e(t).scrollTop();e("[data-magellan-destination]").each(function(){var t=e(this),r=t.attr("data-magellan-destination"),s=t.offset().top-i;s<=n.threshold&&e("[data-magellan-arrival="+r+"]").trigger("magellan.arrival")})})}})(jQuery,this);(function(e,t,n){"use strict";e.fn.foundationMediaQueryViewer=function(t){var n=e.extend(t,{toggleKey:77}),r=e(document);r.on("keyup.mediaQueryViewer",":input",function(e){e.which===n.toggleKey&&e.stopPropagation()});r.on("keyup.mediaQueryViewer",function(t){var r=e("#fqv");t.which===n.toggleKey&&(r.length>0?r.remove():e("body").prepend('<div id="fqv" style="position:fixed;top:4px;left:4px;z-index:999;color:#fff;"><p style="font-size:12px;background:rgba(0,0,0,0.75);padding:5px;margin-bottom:1px;line-height:1.2;"><span class="left">Media:</span> <span style="font-weight:bold;" class="show-for-xlarge">Extra Large</span><span style="font-weight:bold;" class="show-for-large">Large</span><span style="font-weight:bold;" class="show-for-medium">Medium</span><span style="font-weight:bold;" class="show-for-small">Small</span><span style="font-weight:bold;" class="show-for-landscape">Landscape</span><span style="font-weight:bold;" class="show-for-portrait">Portrait</span><span style="font-weight:bold;" class="show-for-touch">Touch</span></p></div>'))})}})(jQuery,this);(function(e,t,n){"use strict";e.fn.foundationNavigation=function(t){var n=!1;if(Modernizr.touch||navigator.userAgent.match(/Windows Phone/i)){e(document).on("click.fndtn touchstart.fndtn",".nav-bar a.flyout-toggle",function(t){t.preventDefault();var r=e(this).siblings(".flyout").first();if(n===!1){e(".nav-bar .flyout").not(r).slideUp(500);r.slideToggle(500,function(){n=!1})}n=!0});e(".nav-bar>li.has-flyout",this).addClass("is-touch")}else e(".nav-bar>li.has-flyout",this).on("mouseenter mouseleave",function(t){if(t.type=="mouseenter"){e(".nav-bar").find(".flyout").hide();e(this).children(".flyout").show()}if(t.type=="mouseleave"){var n=e(this).children(".flyout"),r=n.find("input"),i=function(t){var n;if(t.length>0){t.each(function(){e(this).is(":focus")&&(n=!0)});return n}return!1};i(r)||e(this).children(".flyout").hide()}})}})(jQuery,this);(function(e){"use strict";e.fn.findFirstImage=function(){return this.first().find("img").andSelf().filter("img").first()};var t={defaults:{animation:"horizontal-push",animationSpeed:600,timer:!0,advanceSpeed:4e3,pauseOnHover:!1,startClockOnMouseOut:!1,startClockOnMouseOutAfter:1e3,directionalNav:!0,directionalNavRightText:"Next",directionalNavLeftText:"Previous",captions:!0,captionAnimation:"fade",captionAnimationSpeed:600,resetTimerOnClick:!1,bullets:!1,bulletThumbs:!1,bulletThumbLocation:"",afterSlideChange:e.noop,afterLoadComplete:e.noop,fluid:!0,centerBullets:!0,singleCycle:!1,slideNumber:!1,stackOnSmall:!1},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="orbit-wrapper" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="slider-nav"><span class="right ss-icon"></span><span class="left ss-icon"></span></div>',bulletHTML:'<ul class="orbit-bullets"></ul>',slideNumberHTML:'<span class="orbit-slide-counter"></span>',init:function(t,n){var r,i=0,s=this;this.clickTimer=e.proxy(this.clickTimer,this);this.addBullet=e.proxy(this.addBullet,this);this.resetAndUnlock=e.proxy(this.resetAndUnlock,this);this.stopClock=e.proxy(this.stopClock,this);this.startTimerAfterMouseLeave=e.proxy(this.startTimerAfterMouseLeave,this);this.clearClockMouseLeaveTimer=e.proxy(this.clearClockMouseLeaveTimer,this);this.rotateTimer=e.proxy(this.rotateTimer,this);this.options=e.extend({},this.defaults,n);this.options.timer==="false"&&(this.options.timer=!1);this.options.captions==="false"&&(this.options.captions=!1);this.options.directionalNav==="false"&&(this.options.directionalNav=!1);this.$element=e(t);this.$wrapper=this.$element.wrap(this.wrapperHTML).parent();this.$slides=this.$element.children("img, a, div, figure");this.$element.on("movestart",function(e){(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&e.preventDefault()});this.$element.bind("orbit.next swipeleft",function(){s.shift("next")});this.$element.bind("orbit.prev swiperight",function(){s.shift("prev")});this.$element.bind("orbit.goto",function(e,t){s.shift(t)});this.$element.bind("orbit.start",function(e,t){s.startClock()});this.$element.bind("orbit.stop",function(e,t){s.stopClock()});r=this.$slides.filter("img");r.length===0?this.loaded():r.bind("imageready",function(){i+=1;i===r.length&&s.loaded()})},loaded:function(){this.$element.addClass("orbit").css({width:"1px",height:"1px"});this.options.stackOnSmall&&this.$element.addClass("orbit-stack-on-small");this.$slides.addClass("orbit-slide");this.setDimentionsFromLargestSlide();this.updateOptionsIfOnlyOneSlide();this.setupFirstSlide();this.notifySlideChange();if(this.options.timer){this.setupTimer();this.startClock()}this.options.captions&&this.setupCaptions();this.options.directionalNav&&this.setupDirectionalNav();if(this.options.bullets){this.setupBulletNav();this.setActiveBullet()}this.options.afterLoadComplete.call(this);Holder.run()},currentSlide:function(){return this.$slides.eq(this.activeSlide)},notifySlideChange:function(){if(this.options.slideNumber){var t=this.activeSlide+1+" of "+this.$slides.length;this.$element.trigger("orbit.change",{slideIndex:this.activeSlide,slideCount:this.$slides.length});if(this.$counter===undefined){var n=e(this.slideNumberHTML).html(t);this.$counter=n;this.$wrapper.append(this.$counter)}else this.$counter.html(t)}},setDimentionsFromLargestSlide:function(){var t=this,n;t.$element.add(t.$wrapper).width(this.$slides.first().outerWidth());t.$element.add(t.$wrapper).height(this.$slides.first().height());t.orbitWidth=this.$slides.first().outerWidth();t.orbitHeight=this.$slides.first().height();n=this.$slides.first().findFirstImage().clone();this.$slides.each(function(){var r=e(this),i=r.outerWidth(),s=r.height();if(i>t.$element.outerWidth()){t.$element.add(t.$wrapper).width(i);t.orbitWidth=t.$element.outerWidth()}if(s>t.$element.height()){t.$element.add(t.$wrapper).height(s);t.orbitHeight=t.$element.height();n=e(this).findFirstImage().clone()}t.numberSlides+=1});if(this.options.fluid){typeof this.options.fluid=="string"&&(n=e("<img>").attr("data-src","holder.js/"+this.options.fluid));t.$element.prepend(n);n.addClass("fluid-placeholder");t.$element.add(t.$wrapper).css({width:"inherit"});t.$element.add(t.$wrapper).css({height:"inherit"});e(window).bind("resize",function(){t.orbitWidth=t.$element.outerWidth();t.orbitHeight=t.$element.height()})}},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},updateOptionsIfOnlyOneSlide:function(){if(this.$slides.length===1){this.options.directionalNav=!1;this.options.timer=!1;this.options.bullets=!1}},setupFirstSlide:function(){var e=this;this.$slides.first().css({"z-index":3,opacity:1}).fadeIn(function(){e.$slides.css({display:"block"})})},startClock:function(){var e=this;if(!this.options.timer)return!1;if(this.$timer.is(":hidden"))this.clock=setInterval(function(){e.$element.trigger("orbit.next")},this.options.advanceSpeed);else{this.timerRunning=!0;this.$pause.removeClass("active");this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180,!1)}},rotateTimer:function(e){var t="rotate("+this.degrees+"deg)";this.degrees+=2;this.$rotator.css({"-webkit-transform":t,"-moz-transform":t,"-o-transform":t,"-ms-transform":t});if(this.degrees>180){this.$rotator.addClass("move");this.$mask.addClass("move")}if(this.degrees>360||e){this.$rotator.removeClass("move");this.$mask.removeClass("move");this.degrees=0;this.$element.trigger("orbit.next")}},stopClock:function(){if(!this.options.timer)return!1;this.timerRunning=!1;clearInterval(this.clock);this.$pause.addClass("active")},setupTimer:function(){this.$timer=e(this.timerHTML);this.$wrapper.append(this.$timer);this.$rotator=this.$timer.find(".rotator");this.$mask=this.$timer.find(".mask");this.$pause=this.$timer.find(".pause");this.$timer.click(this.clickTimer);if(this.options.startClockOnMouseOut){this.$wrapper.mouseleave(this.startTimerAfterMouseLeave);this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer)}this.options.pauseOnHover&&this.$wrapper.mouseenter(this.stopClock)},startTimerAfterMouseLeave:function(){var e=this;this.outTimer=setTimeout(function(){e.timerRunning||e.startClock()},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer)},clickTimer:function(){this.timerRunning?this.stopClock():this.startClock()},setupCaptions:function(){this.$caption=e(this.captionHTML);this.$wrapper.append(this.$caption);this.setCaption()},setCaption:function(){var t=this.currentSlide().attr("data-caption"),n;if(!this.options.captions)return!1;if(t){if(e.trim(e(t).text()).length<1)return!1;n=e(t).html();this.$caption.attr("id",t).html(n);switch(this.options.captionAnimation){case"none":this.$caption.show();break;case"fade":this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideDown(this.options.captionAnimationSpeed)}}else switch(this.options.captionAnimation){case"none":this.$caption.hide();break;case"fade":this.$caption.fadeOut(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideUp(this.options.captionAnimationSpeed)}},setupDirectionalNav:function(){var t=this,n=e(this.directionalNavHTML);n.find(".right").html(this.options.directionalNavRightText);n.find(".left").html(this.options.directionalNavLeftText);this.$wrapper.append(n);this.$wrapper.find(".left").click(function(){t.stopClock();if(t.options.resetTimerOnClick){t.rotateTimer(!0);t.startClock()}t.$element.trigger("orbit.prev")});this.$wrapper.find(".right").click(function(){t.stopClock();if(t.options.resetTimerOnClick){t.rotateTimer(!0);t.startClock()}t.$element.trigger("orbit.next")})},setupBulletNav:function(){this.$bullets=e(this.bulletHTML);this.$wrapper.append(this.$bullets);this.$slides.each(this.addBullet);this.$element.addClass("with-bullets");this.options.centerBullets&&this.$bullets.css("margin-left",-this.$bullets.outerWidth()/2)},addBullet:function(t,n){var r=t+1,i=e("<li>"+r+"</li>"),s,o=this;if(this.options.bulletThumbs){s=e(n).attr("data-thumb");s&&i.addClass("has-thumb").css({background:"url("+this.options.bulletThumbLocation+s+") no-repeat"})}this.$bullets.append(i);i.data("index",t);i.click(function(){o.stopClock();if(o.options.resetTimerOnClick){o.rotateTimer(!0);o.startClock()}o.$element.trigger("orbit.goto",[i.data("index")])})},setActiveBullet:function(){if(!this.options.bullets)return!1;this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active")},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).css({"z-index":1});this.unlock();this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide))},shift:function(t){var n=t;this.prevActiveSlide=this.activeSlide;if(this.prevActiveSlide==n)return!1;if(this.$slides.length=="1")return!1;if(!this.locked){this.lock();if(t=="next"){this.activeSlide++;this.activeSlide==this.numberSlides&&(this.activeSlide=0)}else if(t=="prev"){this.activeSlide--;this.activeSlide<0&&(this.activeSlide=this.numberSlides-1)}else{this.activeSlide=t;this.prevActiveSlide<this.activeSlide?n="next":this.prevActiveSlide>this.activeSlide&&(n="prev")}this.setActiveBullet();this.notifySlideChange();this.$slides.eq(this.prevActiveSlide).css({"z-index":2});if(this.options.animation=="fade"){this.$slides.eq(this.activeSlide).css({opacity:0,"z-index":3}).animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({opacity:0},this.options.animationSpeed)}if(this.options.animation=="horizontal-slide"){n=="next"&&this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).css("opacity",1).animate({left:0},this.options.animationSpeed,this.resetAndUnlock);n=="prev"&&this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).css("opacity",1).animate({left:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).css("opacity",0)}if(this.options.animation=="vertical-slide"){if(n=="prev"){this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).css("opacity",0)}n=="next"&&this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).css("opacity",0)}if(this.options.animation=="horizontal-push"){if(n=="next"){this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({left:-this.orbitWidth},this.options.animationSpeed,"",function(){e(this).css({opacity:0})})}if(n=="prev"){this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({left:this.orbitWidth},this.options.animationSpeed,"",function(){e(this).css({opacity:0})})}}if(this.options.animation=="vertical-push"){if(n=="next"){this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0,opacity:1},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).css("opacity",0).animate({top:this.orbitHeight},this.options.animationSpeed,"")}if(n=="prev"){this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).css("opacity",1).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).css("opacity",0).animate({top:-this.orbitHeight},this.options.animationSpeed)}}this.setCaption()}this.$slides.last()&&this.options.singleCycle&&this.stopClock()}};e.fn.orbit=function(n){return this.each(function(){var r=e.extend({},t);r.init(this,n)})}})(jQuery);(function(e){function n(t,n){var r=e(t);r.bind("load.imageready",function(){n.apply(t,arguments);r.unbind("load.imageready")})}var t={};e.event.special.imageready={setup:function(e,n,r){t=e||t},add:function(r){var i=e(this),s;if(this.nodeType===1&&this.tagName.toLowerCase()==="img"&&this.src!=="")if(t.forceLoad){s=i.attr("src");i.attr("src","");n(this,r.handler);i.attr("src",s)}else this.complete||this.readyState===4?r.handler.apply(this,arguments):n(this,r.handler)},teardown:function(t){e(this).unbind(".imageready")}}})(jQuery);var Holder=Holder||{};(function(e,t){function s(e,t){var n="complete",r="readystatechange",i=!1,s=i,o=!0,u=e.document,a=u.documentElement,f=u.addEventListener?"addEventListener":"attachEvent",l=u.addEventListener?"removeEventListener":"detachEvent",c=u.addEventListener?"":"on",h=function(o){(o.type!=r||u.readyState==n)&&((o.type=="load"?e:u)[l](c+o.type,h,i),!s&&(s=!0)&&t.call(e,null))},p=function(){try{a.doScroll("left")}catch(e){setTimeout(p,50);return}h("poll")};if(u.readyState==n)t.call(e,"lazy");else{if(u.createEventObject&&a.doScroll){try{o=!e.frameElement}catch(d){}o&&p()}u[f](c+"DOMContentLoaded",h,i),u[f](c+r,h,i),e[f](c+"load",h,i)}}function o(e){e=e.match(/^(\W)?(.*)/);var t=document["getElement"+(e[1]?e[1]=="#"?"ById":"sByClassName":"sByTagName")](e[2]),n=[];t!=null&&(t.length?n=t:t.length==0?n=t:n=[t]);return n}function u(e,t){var n={};for(var r in e)n[r]=e[r];for(var i in t)n[i]=t[i];return n}function a(e,t,n){var r=[t.height,t.width].sort(),s=Math.round(r[1]/16),o=Math.round(r[0]/16),u=Math.max(n.size,s);i.width=t.width;i.height=t.height;e.textAlign="center";e.textBaseline="middle";e.fillStyle=n.background;e.fillRect(0,0,t.width,t.height);e.fillStyle=n.foreground;e.font="bold "+u+"px sans-serif";var a=n.text?n.text:t.width+"x"+t.height;Math.round(e.measureText(a).width)/t.width>1&&(u=Math.max(o,n.size));e.font="bold "+u+"px sans-serif";e.fillText(a,t.width/2,t.height/2,t.width);return i.toDataURL("image/png")}var n=!1,r=!1,i=document.createElement("canvas");if(!i.getContext)r=!0;else if(i.toDataURL("image/png").indexOf("data:image/png")<0)r=!0;else var f=i.getContext("2d");var l={domain:"holder.js",images:"img",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}}};e.flags={dimensions:{regex:/([0-9]+)x([0-9]+)/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{size:l.themes.gray.size,foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1]}}};for(var c in e.flags)e.flags[c].match=function(e){return e.match(this.regex)};e.add_theme=function(t,n){t!=null&&n!=null&&(l.themes[t]=n);return e};e.add_image=function(t,n){var r=o(n);if(r.length)for(var i=0,s=r.length;i<s;i++){var u=document.createElement("img");u.setAttribute("data-src",t);r[i].appendChild(u)}return e};e.run=function(t){var n=u(l,t),i=o(n.images),s=!0;for(var c=i.length,h=0;h<c;h++){var p=l.themes.gray,d=i[h].getAttribute("data-src")||i[h].getAttribute("src");if(!!~d.indexOf(n.domain)){var v=!1,m=null,g=null,y=d.substr(d.indexOf(n.domain)+n.domain.length+1).split("/");for(sl=y.length,j=0;j<sl;j++)if(e.flags.dimensions.match(y[j])){v=!0;m=e.flags.dimensions.output(y[j])}else e.flags.colors.match(y[j])?p=e.flags.colors.output(y[j]):n.themes[y[j]]?p=n.themes[y[j]]:e.flags.text.match(y[j])&&(g=e.flags.text.output(y[j]));if(v){i[h].setAttribute("data-src",d);var b=m.width+"x"+
m.height;i[h].setAttribute("alt",g?g:p.text?p.text+" ["+b+"]":b);i[h].style.backgroundColor=p.background;var p=g?u(p,{text:g}):p;r||i[h].setAttribute("src",a(f,m,p))}}}return e};s(t,function(){n||e.run()})})(Holder,window);(function(e){"use strict";var t=!1;e(document).on("click","a[data-reveal-id]",function(t){t.preventDefault();var n=e(this).attr("data-reveal-id");e("#"+n).reveal(e(this).data())});e.fn.reveal=function(n){var r=e(document),i={animation:"fadeAndPop",animationSpeed:300,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",open:e.noop,opened:e.noop,close:e.noop,closed:e.noop};n=e.extend({},i,n);return this.not(".reveal-modal.open").each(function(){function c(){u=!1}function h(){u=!0}function p(){var n=e(".reveal-modal.open");if(n.length===1){t=!0;n.trigger("reveal:close")}}function d(){if(!u){h();p();i.addClass("open");if(n.animation==="fadeAndPop"){f.open.top=r.scrollTop()-o;f.open.opacity=0;i.css(f.open);a.fadeIn(n.animationSpeed/2);i.delay(n.animationSpeed/2).animate({top:r.scrollTop()+s+"px",opacity:1},n.animationSpeed,function(){i.trigger("reveal:opened")})}if(n.animation==="fade"){f.open.top=r.scrollTop()+s;f.open.opacity=0;i.css(f.open);a.fadeIn(n.animationSpeed/2);i.delay(n.animationSpeed/2).animate({opacity:1},n.animationSpeed,function(){i.trigger("reveal:opened")})}if(n.animation==="none"){f.open.top=r.scrollTop()+s;f.open.opacity=1;i.css(f.open);a.css({display:"block"});i.trigger("reveal:opened")}}}function v(){var e=i.find(".flex-video"),t=e.find("iframe");if(t.length>0){t.attr("src",t.data("src"));e.fadeIn(100)}}function m(){if(!u){h();i.removeClass("open");if(n.animation==="fadeAndPop"){i.animate({top:r.scrollTop()-o+"px",opacity:0},n.animationSpeed/2,function(){i.css(f.close)});t?i.trigger("reveal:closed"):a.delay(n.animationSpeed).fadeOut(n.animationSpeed,function(){i.trigger("reveal:closed")})}if(n.animation==="fade"){i.animate({opacity:0},n.animationSpeed,function(){i.css(f.close)});t?i.trigger("reveal:closed"):a.delay(n.animationSpeed).fadeOut(n.animationSpeed,function(){i.trigger("reveal:closed")})}if(n.animation==="none"){i.css(f.close);t||a.css({display:"none"});i.trigger("reveal:closed")}t=!1}}function g(){i.unbind(".reveal");a.unbind(".reveal");l.unbind(".reveal");e("body").unbind(".reveal")}function y(){var e=i.find(".flex-video"),t=e.find("iframe");if(t.length>0){t.data("src",t.attr("src"));t.attr("src","");e.fadeOut(100)}}var i=e(this),s=parseInt(i.css("top"),10),o=i.height()+s,u=!1,a=e(".reveal-modal-bg"),f={open:{top:0,opacity:0,visibility:"visible",display:"block"},close:{top:s,opacity:1,visibility:"hidden",display:"none"}},l;if(a.length===0){a=e("<div />",{"class":"reveal-modal-bg"}).insertAfter(i);a.fadeTo("fast",.8)}i.bind("reveal:open.reveal",d);i.bind("reveal:open.reveal",v);i.bind("reveal:close.reveal",m);i.bind("reveal:closed.reveal",y);i.bind("reveal:opened.reveal reveal:closed.reveal",c);i.bind("reveal:closed.reveal",g);i.bind("reveal:open.reveal",n.open);i.bind("reveal:opened.reveal",n.opened);i.bind("reveal:close.reveal",n.close);i.bind("reveal:closed.reveal",n.closed);i.trigger("reveal:open");l=e("."+n.dismissModalClass).bind("click.reveal",function(){i.trigger("reveal:close")});if(n.closeOnBackgroundClick){a.css({cursor:"pointer"});a.bind("click.reveal",function(){i.trigger("reveal:close")})}e("body").bind("keyup.reveal",function(e){e.which===27&&i.trigger("reveal:close")})})}})(jQuery);(function(e,t,n){"use strict";e.fn.foundationTabs=function(n){var r=e.extend({callback:e.noop},n),i=function(t){var n=t.closest("dl, ul").find(".active"),r=t.children("a").attr("href"),i=/^#/.test(r),s="";if(i){s=r+"Tab";s=s.replace(/^.+#/,"#");e(s).closest(".tabs-content").children("li").removeClass("active").hide();e(s).css("display","block").addClass("active")}n.removeClass("active");t.addClass("active")};e(document).on("click.fndtn",".tabs a",function(t){i(e(this).parent("dd, li"))});if(t.location.hash){i(e('a[href="'+t.location.hash+'"]').parent("dd, li"));r.callback()}}})(jQuery,this);(function(e,t,n){"use strict";var r={bodyHeight:0,selector:".has-tip",tooltipClass:".tooltip",tipTemplate:function(e,t){return'<span data-selector="'+e+'" class="'+r.tooltipClass.substring(1)+'">'+t+'<span class="nub"></span></span>'}},i={init:function(t){r=e.extend(r,t);r.selector=r.targetClass?r.targetClass:r.selector;return this.each(function(){var t=e("body");if(Modernizr.touch){t.on("click.tooltip touchstart.tooltip touchend.tooltip",r.selector,function(t){t.preventDefault();e(r.tooltipClass).hide();i.showOrCreateTip(e(this))});t.on("click.tooltip touchstart.tooltip touchend.tooltip",r.tooltipClass,function(t){t.preventDefault();e(this).fadeOut(150)})}else t.on("mouseenter.tooltip mouseleave.tooltip",r.selector,function(t){var n=e(this);t.type==="mouseenter"?i.showOrCreateTip(n):t.type==="mouseleave"&&i.hide(n)});e(this).data("tooltips",!0)})},showOrCreateTip:function(e){var t=i.getTip(e);t&&t.length>0?i.show(e):i.create(e)},getTip:function(t){var n=i.selector(t),s=null;n&&(s=e("span[data-selector="+n+"]"+r.tooltipClass));return s.length>0?s:!1},selector:function(e){var t=e.attr("id"),r=e.data("selector");if(t===n&&r===n){r="tooltip"+Math.random().toString(36).substring(7);e.attr("data-selector",r)}return t?t:r},create:function(t){var n=e(r.tipTemplate(i.selector(t),e("<div>").html(t.attr("title")).html())),s=i.inheritable_classes(t);n.addClass(s).appendTo("body");Modernizr.touch&&n.append('<span class="tap-to-close">tap to close </span>');t.removeAttr("title");i.show(t)},reposition:function(n,r,i){var s,o,u,a,f,l;r.css("visibility","hidden").show();s=n.data("width");o=r.children(".nub");u=o.outerHeight();a=o.outerWidth();l=function(e,t,n,r,i,s){return e.css({top:t,bottom:r,left:i,right:n,width:s?s:"auto"}).end()};l(r,n.offset().top+n.outerHeight()+10,"auto","auto",n.offset().left,s);l(o,-u,"auto","auto",10);if(e(t).width()<767){f=n.closest(".columns");f.length<0&&(f=e("body"));r.width(f.outerWidth()-25).css("left",15).addClass("tip-override");l(o,-u,"auto","auto",n.offset().left)}else if(i&&i.indexOf("tip-top")>-1){l(r,n.offset().top-r.outerHeight()-u,"auto","auto",n.offset().left,s).removeClass("tip-override");l(o,"auto","auto",-u,"auto")}else if(i&&i.indexOf("tip-left")>-1){l(r,n.offset().top+n.outerHeight()/2-u,"auto","auto",n.offset().left-r.outerWidth()-10,s).removeClass("tip-override");l(o,r.outerHeight()/2-u/2,-u,"auto","auto")}else if(i&&i.indexOf("tip-right")>-1){l(r,n.offset().top+n.outerHeight()/2-u,"auto","auto",n.offset().left+n.outerWidth()+10,s).removeClass("tip-override");l(o,r.outerHeight()/2-u/2,"auto","auto",-u)}r.css("visibility","visible").hide()},inheritable_classes:function(t){var n=["tip-top","tip-left","tip-bottom","tip-right","noradius"],r=t.attr("class"),i=r?e.map(r.split(" "),function(t,r){if(e.inArray(t,n)!==-1)return t}).join(" "):"";return e.trim(i)},show:function(e){var t=i.getTip(e);i.reposition(e,t,e.attr("class"));t.fadeIn(150)},hide:function(e){var t=i.getTip(e);t.fadeOut(150)},reload:function(){var t=e(this);return t.data("tooltips")?t.foundationTooltips("destroy").foundationTooltips("init"):t.foundationTooltips("init")},destroy:function(){return this.each(function(){e(t).off(".tooltip");e(r.selector).off(".tooltip");e(r.tooltipClass).each(function(t){e(e(r.selector).get(t)).attr("title",e(this).text())}).remove()})}};e.fn.foundationTooltips=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return i.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationTooltips")}})(jQuery,this);(function(e,t,n){"use strict";var r={index:0,initialized:!1},i={init:function(n){return this.each(function(){r=e.extend(r,n);r.$w=e(t),r.$topbar=e("nav.top-bar");r.$titlebar=r.$topbar.children("ul:first");var s=e("<div class='top-bar-js-breakpoint'/>").appendTo("body");r.breakPoint=s.width();s.remove();if(!r.initialized){i.assemble();r.initialized=!0}r.height||i.largestUL();r.$topbar.parent().hasClass("fixed")&&e("body").css("padding-top",r.$topbar.outerHeight());e(".top-bar .toggle-topbar").die("click.fndtn").live("click.fndtn",function(e){e.preventDefault();if(i.breakpoint()){r.$topbar.toggleClass("expanded");r.$topbar.css("min-height","")}});e(".top-bar .has-dropdown>a").die("click.fndtn").live("click.fndtn",function(t){(Modernizr.touch||i.breakpoint())&&t.preventDefault();if(i.breakpoint()){var n=e(this),s=n.closest("li"),o=s.children("ul"),u=n.closest("section"),a=0,f;r.index+=1;s.addClass("moved");u.css({left:-(100*r.index)+"%"});u.find(">.name").css({left:100*r.index+"%"});n.siblings("ul").height(r.height+r.$titlebar.outerHeight(!0));r.$topbar.css("min-height",r.height+r.$titlebar.outerHeight(!0)*2)}});e(t).on("resize.fndtn.topbar",function(){i.breakpoint()||r.$topbar.css("min-height","")});e(".top-bar .has-dropdown .back").die("click.fndtn").live("click.fndtn",function(t){t.preventDefault();var n=e(this),i=n.closest("li.moved"),s=n.closest("section"),o=i.parent();r.index-=1;s.css({left:-(100*r.index)+"%"});s.find(">.name").css({left:100*r.index+"%"});r.index===0&&r.$topbar.css("min-height",0);setTimeout(function(){i.removeClass("moved")},300)})})},breakpoint:function(){return r.$w.width()<r.breakPoint},assemble:function(){var t=r.$topbar.children("section");t.detach();t.find(".has-dropdown>a").each(function(){var t=e(this),n=t.siblings(".dropdown"),r=e('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');r.find("h5>a").html(t.html());n.prepend(r)});t.appendTo(r.$topbar)},largestUL:function(){var t=r.$topbar.find("section ul ul"),n=t.first(),i=0;t.each(function(){e(this).children("li").length>n.children("li").length&&(n=e(this))});n.children("li").each(function(){i+=e(this).outerHeight(!0)});r.height=i}};e.fn.foundationTopBar=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return i.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.foundationTopBar")}})(jQuery,this);(function(e,t,n){function f(e){var t={},r=/^jQuery\d+$/;n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)});return t}function l(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(e===!0)return s[0].value=r;s.focus()}else{i.value="";s.removeClass("placeholder");i==t.activeElement&&i.select()}}function c(){var e,t=this,r=n(t),i=r,s=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend(f(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":s}).bind("focus.placeholder",l);r.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder");r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea"),s=n.fn,o=n.valHooks,u,a;if(r&&i){a=s.placeholder=function(){return this};a.input=a.textarea=!0}else{a=s.placeholder=function(){var e=this;e.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":c}).data("placeholder-enabled",!0).trigger("blur.placeholder");return e};a.input=r;a.textarea=i;u={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var i=n(e);if(!i.data("placeholder-enabled"))return e.value=r;if(r==""){e.value=r;e!=t.activeElement&&c.call(e)}else i.hasClass("placeholder")?l.call(e,!0,r)||(e.value=r):e.value=r;return i}};r||(o.input=u);i||(o.textarea=u);n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(l);setTimeout(function(){e.each(c)},10)})});n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);(function(e,t,n){"use strict";var r=e(document),i=t.Modernizr;e(document).ready(function(){e.fn.foundationAlerts?r.foundationAlerts():null;e.fn.foundationButtons?r.foundationButtons():null;e.fn.foundationAccordion?r.foundationAccordion():null;e.fn.foundationNavigation?r.foundationNavigation():null;e.fn.foundationTopBar?r.foundationTopBar():null;e.fn.foundationCustomForms?r.foundationCustomForms():null;e.fn.foundationMediaQueryViewer?r.foundationMediaQueryViewer():null;e.fn.foundationTabs?r.foundationTabs({callback:e.foundation.customForms.appendCustomMarkup}):null;e.fn.foundationTooltips?r.foundationTooltips():null;e.fn.foundationMagellan?r.foundationMagellan():null;e.fn.foundationClearing?r.foundationClearing():null;e("input, textarea").placeholder()});e(".block-grid.two-up>li:nth-child(2n+1)").css({clear:"both"});e(".block-grid.three-up>li:nth-child(3n+1)").css({clear:"both"});e(".block-grid.four-up>li:nth-child(4n+1)").css({clear:"both"});e(".block-grid.five-up>li:nth-child(5n+1)").css({clear:"both"});i.touch&&!t.location.hash&&e(t).load(function(){setTimeout(function(){t.scrollTo(0,1)},0)})})(jQuery,this);(function(e,t,n,r){"use strict";var i=n(e),s=n(t),o=n.fancybox=function(){o.open.apply(this,arguments)},u=navigator.userAgent.match(/msie/),a=null,f=t.createTouch!==r,l=function(e){return e&&e.hasOwnProperty&&e instanceof n},c=function(e){return e&&n.type(e)==="string"},h=function(e){return c(e)&&e.indexOf("%")>0},p=function(e){return e&&(!e.style.overflow||e.style.overflow!=="hidden")&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},d=function(e,t){var n=parseInt(e,10)||0;t&&h(e)&&(n=o.getViewport()[t]/100*n);return Math.ceil(n)},v=function(e,t){return d(e,t)+"px"};n.extend(o,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!f,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(u?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){if(!e)return;n.isPlainObject(t)||(t={});if(!1===o.close(!0))return;n.isArray(e)||(e=l(e)?n(e).get():[e]);n.each(e,function(i,s){var u={},a,f,h,p,d,v,m;if(n.type(s)==="object"){s.nodeType&&(s=n(s));if(l(s)){u={href:s.data("fancybox-href")||s.attr("href"),title:s.data("fancybox-title")||s.attr("title"),isDom:!0,element:s};n.metadata&&n.extend(!0,u,s.metadata())}else u=s}a=t.href||u.href||(c(s)?s:null);f=t.title!==r?t.title:u.title||"";h=t.content||u.content;p=h?"html":t.type||u.type;if(!p&&u.isDom){p=s.data("fancybox-type");if(!p){d=s.prop("class").match(/fancybox\.(\w+)/);p=d?d[1]:null}}if(c(a)){if(!p)if(o.isImage(a))p="image";else if(o.isSWF(a))p="swf";else if(a.charAt(0)==="#")p="inline";else if(c(s)){p="html";h=s}if(p==="ajax"){v=a.split(/\s+/,2);a=v.shift();m=v.shift()}}if(!h)if(p==="inline")a?h=n(c(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):u.isDom&&(h=s);else if(p==="html")h=a;else if(!p&&!a&&u.isDom){p="inline";h=s}n.extend(u,{href:a,type:p,content:h,title:f,selector:m});e[i]=u});o.opts=n.extend(!0,{},o.defaults,t);t.keys!==r&&(o.opts.keys=t.keys?n.extend({},o.defaults.keys,t.keys):!1);o.group=e;return o._start(o.opts.index)},cancel:function(){var e=o.coming;if(!e||!1===o.trigger("onCancel"))return;o.hideLoading();o.ajaxLoad&&o.ajaxLoad.abort();o.ajaxLoad=null;o.imgPreload&&(o.imgPreload.onload=o.imgPreload.onerror=null);e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove();o.coming=null;o.current||o._afterZoomOut(e)},close:function(e){o.cancel();if(!1===o.trigger("beforeClose"))return;o.unbindEvents();if(!o.isActive)return;if(!o.isOpen||e===!0){n(".fancybox-wrap").stop(!0).trigger("onReset").remove();o._afterZoomOut()}else{o.isOpen=o.isOpened=!1;o.isClosing=!0;n(".fancybox-item, .fancybox-nav").remove();o.wrap.stop(!0,!0).removeClass("fancybox-opened");o.transitions[o.current.closeMethod]()}},play:function(e){var t=function(){clearTimeout(o.player.timer)},r=function(){t();o.current&&o.player.isActive&&(o.player.timer=setTimeout(o.next,o.current.playSpeed))},i=function(){t();n("body").unbind(".player");o.player.isActive=!1;o.trigger("onPlayEnd")},s=function(){if(o.current&&(o.current.loop||o.current.index<o.group.length-1)){o.player.isActive=!0;n("body").bind({"afterShow.player onUpdate.player":r,"onCancel.player beforeClose.player":i,"beforeLoad.player":t});r();o.trigger("onPlayStart")}};e===!0||!o.player.isActive&&e!==!1?s():i()},next:function(e){var t=o.current;if(t){c(e)||(e=t.direction.next);o.jumpto(t.index+1,e,"next")}},prev:function(e){var t=o.current;if(t){c(e)||(e=t.direction.prev);o.jumpto(t.index-1,e,"prev")}},jumpto:function(e,t,n){var i=o.current;if(!i)return;e=d(e);o.direction=t||i.direction[e>=i.index?"next":"prev"];o.router=n||"jumpto";if(i.loop){e<0&&(e=i.group.length+e%i.group.length);e%=i.group.length}if(i.group[e]!==r){o.cancel();o._start(e)}},reposition:function(e,t){var r=o.current,i=r?r.wrap:null,s;if(i){s=o._getPosition(t);if(e&&e.type==="scroll"){delete s.position;i.stop(!0,!0).animate(s,200)}else{i.css(s);r.pos=n.extend({},r.dim,s)}}},update:function(e){var t=e&&e.type,n=!t||t==="orientationchange";if(n){clearTimeout(a);a=null}if(!o.isOpen||a)return;a=setTimeout(function(){var r=o.current;if(!r||o.isClosing)return;o.wrap.removeClass("fancybox-tmp");(n||t==="load"||t==="resize"&&r.autoResize)&&o._setDimension();(t!=="scroll"||!r.canShrink)&&o.reposition(e);o.trigger("onUpdate");a=null},n&&!f?0:300)},toggle:function(e){if(o.isOpen){o.current.fitToView=n.type(e)==="boolean"?e:!o.current.fitToView;if(f){o.wrap.removeAttr("style").addClass("fancybox-tmp");o.trigger("onUpdate")}o.update()}},hideLoading:function(){s.unbind(".loading");n("#fancybox-loading").remove()},showLoading:function(){var e,t;o.hideLoading();e=n('<div id="fancybox-loading"><div></div></div>').click(o.cancel).appendTo("body");s.bind("keydown.loading",function(e){if((e.which||e.keyCode)===27){e.preventDefault();o.cancel()}});if(!o.defaults.fixed){t=o.getViewport();e.css({position:"absolute",top:t.h*.5+t.y,left:t.w*.5+t.x})}},getViewport:function(){var t=o.current&&o.current.locked||!1,n={x:i.scrollLeft(),y:i.scrollTop()};if(t){n.w=t[0].clientWidth;n.h=t[0].clientHeight}else{n.w=f&&e.innerWidth?e.innerWidth:i.width();n.h=f&&e.innerHeight?e.innerHeight:i.height()}return n},unbindEvents:function(){o.wrap&&l(o.wrap)&&o.wrap.unbind(".fb");s.unbind(".fb");i.unbind(".fb")},bindEvents:function(){var e=o.current,t;if(!e)return;i.bind("orientationchange.fb"+(f?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),o.update);t=e.keys;t&&s.bind("keydown.fb",function(i){var s=i.which||i.keyCode,u=i.target||i.srcElement;if(s===27&&o.coming)return!1;!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey&&(!u||!u.type&&!n(u).is("[contenteditable]"))&&n.each(t,function(t,u){if(e.group.length>1&&u[s]!==r){o[t](u[s]);i.preventDefault();return!1}if(n.inArray(s,u)>-1){o[t]();i.preventDefault();return!1}})});n.fn.mousewheel&&e.mouseWheel&&o.wrap.bind("mousewheel.fb",function(t,r,i,s){var u=t.target||null,a=n(u),f=!1;while(a.length){if(f||a.is(".fancybox-skin")||a.is(".fancybox-wrap"))break;f=p(a[0]);a=n(a).parent()}if(r!==0&&!f&&o.group.length>1&&!e.canShrink){s>0||i>0?o.prev(s>0?"down":"left"):(s<0||i<0)&&o.next(s<0?"up":"right");t.preventDefault()}})},trigger:function(e,t){var r,i=t||o.coming||o.current;if(!i)return;n.isFunction(i[e])&&(r=i[e].apply(i,Array.prototype.slice.call(arguments,1)));if(r===!1)return!1;i.helpers&&n.each(i.helpers,function(t,r){if(r&&o.helpers[t]&&n.isFunction(o.helpers[t][e])){r=n.extend(!0,{},o.helpers[t].defaults,r);o.helpers[t][e](r,i)}});n.event.trigger(e+".fb")},isImage:function(e){return c(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(e){return c(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t={},r,i,s,u,a;e=d(e);r=o.group[e]||null;if(!r)return!1;t=n.extend(!0,{},o.opts,r);u=t.margin;a=t.padding;n.type(u)==="number"&&(t.margin=[u,u,u,u]);n.type(a)==="number"&&(t.padding=[a,a,a,a]);t.modal&&n.extend(!0,t,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});t.autoSize&&(t.autoWidth=t.autoHeight=!0);t.width==="auto"&&(t.autoWidth=!0);t.height==="auto"&&(t.autoHeight=!0);t.group=o.group;t.index=e;o.coming=t;if(!1===o.trigger("beforeLoad")){o.coming=null;return}s=t.type;i=t.href;if(!s){o.coming=null;if(o.current&&o.router&&o.router!=="jumpto"){o.current.index=e;return o[o.router](o.direction)}return!1}o.isActive=!0;if(s==="image"||s==="swf"){t.autoHeight=t.autoWidth=!1;t.scrolling="visible"}s==="image"&&(t.aspectRatio=!0);s==="iframe"&&f&&(t.scrolling="scroll");t.wrap=n(t.tpl.wrap).addClass("fancybox-"+(f?"mobile":"desktop")+" fancybox-type-"+s+" fancybox-tmp "+t.wrapCSS).appendTo(t.parent||"body");n.extend(t,{skin:n(".fancybox-skin",t.wrap),outer:n(".fancybox-outer",t.wrap),inner:n(".fancybox-inner",t.wrap)});n.each(["Top","Right","Bottom","Left"],function(e,n){t.skin.css("padding"+n,v(t.padding[e]))});o.trigger("onReady");if(s==="inline"||s==="html"){if(!t.content||!t.content.length)return o._error("content")}else if(!i)return o._error("href");s==="image"?o._loadImage():s==="ajax"?o._loadAjax():s==="iframe"?o._loadIframe():o._afterLoad()},_error:function(e){n.extend(o.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:o.coming.tpl.error});o._afterLoad()},_loadImage:function(){var e=o.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null;o.coming.width=this.width;o.coming.height=this.height;o._afterLoad()};e.onerror=function(){this.onload=this.onerror=null;o._error("image")};e.src=o.coming.href;e.complete!==!0&&o.showLoading()},_loadAjax:function(){var e=o.coming;o.showLoading();o.ajaxLoad=n.ajax(n.extend({},e.ajax,{url:e.href,error:function(e,t){o.coming&&t!=="abort"?o._error("ajax",e):o.hideLoading()},success:function(t,n){if(n==="success"){e.content=t;o._afterLoad()}}}))},_loadIframe:function(){var e=o.coming,t=n(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",f?"auto":e.iframe.scrolling).attr("src",e.href);n(e.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}});if(e.iframe.preload){o.showLoading();t.one("load",function(){n(this).data("ready",1);f||n(this).bind("load.fb",o.update);n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();o._afterLoad()})}e.content=t.appendTo(e.inner);e.iframe.preload||o._afterLoad()},_preloadImages:function(){var e=o.group,t=o.current,n=e.length,r=t.preload?Math.min(t.preload,n-1):0,i,s;for(s=1;s<=r;s+=1){i=e[(t.index+s)%n];i.type==="image"&&i.href&&((new Image).src=i.href)}},_afterLoad:function(){var e=o.coming,t=o.current,r="fancybox-placeholder",i,s,u,a,f,c;o.hideLoading();if(!e||o.isActive===!1)return;if(!1===o.trigger("afterLoad",e,t)){e.wrap.stop(!0).trigger("onReset").remove();o.coming=null;return}if(t){o.trigger("beforeChange",t);t.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}o.unbindEvents();i=e;s=e.content;u=e.type;a=e.scrolling;n.extend(o,{wrap:i.wrap,skin:i.skin,outer:i.outer,inner:i.inner,current:i,previous:t});f=i.href;switch(u){case"inline":case"ajax":case"html":if(i.selector)s=n("<div>").html(s).find(i.selector);else if(l(s)){s.data(r)||s.data(r,n('<div class="'+r+'"></div>').insertAfter(s).hide());s=s.show().detach();i.wrap.bind("onReset",function(){n(this).find(s).length&&s.hide().replaceAll(s.data(r)).data(r,!1)})}break;case"image":s=i.tpl.image.replace("{href}",f);break;case"swf":s='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+f+'"></param>';c="";n.each(i.swf,function(e,t){s+='<param name="'+e+'" value="'+t+'"></param>';c+=" "+e+'="'+t+'"'});s+='<embed src="'+f+'" type="application/x-shockwave-flash" width="100%" height="100%"'+c+"></embed></object>"}(!l(s)||!s.parent().is(i.inner))&&i.inner.append(s);o.trigger("beforeShow");i.inner.css("overflow",a==="yes"?"scroll":a==="no"?"hidden":a);o._setDimension();o.reposition();o.isOpen=!1;o.coming=null;o.bindEvents();o.isOpened?t.prevMethod&&o.transitions[t.prevMethod]():n(".fancybox-wrap").not(i.wrap).stop(!0).trigger("onReset").remove();o.transitions[o.isOpened?i.nextMethod:i.openMethod]();o._preloadImages()},_setDimension:function(){var e=o.getViewport(),t=0,r=!1,i=!1,s=o.wrap,u=o.skin,a=o.inner,f=o.current,l=f.width,c=f.height,p=f.minWidth,m=f.minHeight,g=f.maxWidth,y=f.maxHeight,b=f.scrolling,w=f.scrollOutside?f.scrollbarWidth:0,E=f.margin,S=d(E[1]+E[3]),x=d(E[0]+E[2]),T,N,C,k,L,A,O,M,_,D,P,H,B,j,I;s.add(u).add(a).width("auto").height("auto").removeClass("fancybox-tmp");T=d(u.outerWidth(!0)-u.width());N=d(u.outerHeight(!0)-u.height());C=S+T;k=x+N;L=h(l)?(e.w-C)*d(l)/100:l;A=h(c)?(e.h-k)*d(c)/100:c;if(f.type==="iframe"){j=f.content;if(f.autoHeight&&j.data("ready")===1)try{if(j[0].contentWindow.document.location){a.width(L).height(9999);I=j.contents().find("body");w&&I.css("overflow-x","hidden");A=I.height()}}catch(q){}}else if(f.autoWidth||f.autoHeight){a.addClass("fancybox-tmp");f.autoWidth||a.width(L);f.autoHeight||a.height(A);f.autoWidth&&(L=a.width());f.autoHeight&&(A=a.height());a.removeClass("fancybox-tmp")}l=d(L);c=d(A);_=L/A;p=d(h(p)?d(p,"w")-C:p);g=d(h(g)?d(g,"w")-C:g);m=d(h(m)?d(m,"h")-k:m);y=d(h(y)?d(y,"h")-k:y);O=g;M=y;if(f.fitToView){g=Math.min(e.w-C,g);y=Math.min(e.h-k,y)}H=e.w-S;B=e.h-x;if(f.aspectRatio){if(l>g){l=g;c=d(l/_)}if(c>y){c=y;l=d(c*_)}if(l<p){l=p;c=d(l/_)}if(c<m){c=m;l=d(c*_)}}else{l=Math.max(p,Math.min(l,g));if(f.autoHeight&&f.type!=="iframe"){a.width(l);c=a.height()}c=Math.max(m,Math.min(c,y))}if(f.fitToView){a.width(l).height(c);s.width(l+T);D=s.width();P=s.height();if(f.aspectRatio)while((D>H||P>B)&&l>p&&c>m){if(t++>19)break;c=Math.max(m,Math.min(y,c-10));l=d(c*_);if(l<p){l=p;c=d(l/_)}if(l>g){l=g;c=d(l/_)}a.width(l).height(c);s.width(l+T);D=s.width();P=s.height()}else{l=Math.max(p,Math.min(l,l-(D-H)));c=Math.max(m,Math.min(c,c-(P-B)))}}w&&b==="auto"&&c<A&&l+T+w<H&&(l+=w);a.width(l).height(c);s.width(l+T);D=s.width();P=s.height();r=(D>H||P>B)&&l>p&&c>m;i=f.aspectRatio?l<O&&c<M&&l<L&&c<A:(l<O||c<M)&&(l<L||c<A);n.extend(f,{dim:{width:v(D),height:v(P)},origWidth:L,origHeight:A,canShrink:r,canExpand:i,wPadding:T,hPadding:N,wrapSpace:P-u.outerHeight(!0),skinSpace:u.height()-c});!j&&f.autoHeight&&c>m&&c<y&&!i&&a.height("auto")},_getPosition:function(e){var t=o.current,n=o.getViewport(),r=t.margin,i=o.wrap.width()+r[1]+r[3],s=o.wrap.height()+r[0]+r[2],u={position:"absolute",top:r[0],left:r[3]};if(t.autoCenter&&t.fixed&&!e&&s<=n.h&&i<=n.w)u.position="fixed";else if(!t.locked){u.top+=n.y;u.left+=n.x}u.top=v(Math.max(u.top,u.top+(n.h-s)*t.topRatio));u.left=v(Math.max(u.left,u.left+(n.w-i)*t.leftRatio));return u},_afterZoomIn:function(){var e=o.current;if(!e)return;o.isOpen=o.isOpened=!0;o.wrap.css("overflow","visible").addClass("fancybox-opened");o.update();(e.closeClick||e.nextClick&&o.group.length>1)&&o.inner.css("cursor","pointer").bind("click.fb",function(t){if(!n(t.target).is("a")&&!n(t.target).parent().is("a")){t.preventDefault();o[e.closeClick?"close":"next"]()}});e.closeBtn&&n(e.tpl.closeBtn).appendTo(o.skin).bind("click.fb",function(e){e.preventDefault();o.close()});if(e.arrows&&o.group.length>1){(e.loop||e.index>0)&&n(e.tpl.prev).appendTo(o.outer).bind("click.fb",o.prev);(e.loop||e.index<o.group.length-1)&&n(e.tpl.next).appendTo(o.outer).bind("click.fb",o.next)}o.trigger("afterShow");if(!e.loop&&e.index===e.group.length-1)o.play(!1);else if(o.opts.autoPlay&&!o.player.isActive){o.opts.autoPlay=!1;o.play()}},_afterZoomOut:function(e){e=e||o.current;n(".fancybox-wrap").trigger("onReset").remove();n.extend(o,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});o.trigger("afterClose",e)}});o.transitions={getOrigPosition:function(){var e=o.current,t=e.element,n=e.orig,r={},i=50,s=50,u=e.hPadding,a=e.wPadding,f=o.getViewport();if(!n&&e.isDom&&t.is(":visible")){n=t.find("img:first");n.length||(n=t)}if(l(n)){r=n.offset();if(n.is("img")){i=n.outerWidth();s=n.outerHeight()}}else{r.top=f.y+(f.h-s)*e.topRatio;r.left=f.x+(f.w-i)*e.leftRatio}if(o.wrap.css("position")==="fixed"||e.locked){r.top-=f.y;r.left-=f.x}r={top:v(r.top-u*e.topRatio),left:v(r.left-a*e.leftRatio),width:v(i+a),height:v(s+u)};return r},step:function(e,t){var n,r,i,s=t.prop,u=o.current,a=u.wrapSpace,f=u.skinSpace;if(s==="width"||s==="height"){n=t.end===t.start?1:(e-t.start)/(t.end-t.start);o.isClosing&&(n=1-n);r=s==="width"?u.wPadding:u.hPadding;i=e-r;o.skin[s](d(s==="width"?i:i-a*n));o.inner[s](d(s==="width"?i:i-a*n-f*n))}},zoomIn:function(){var e=o.current,t=e.pos,r=e.openEffect,i=r==="elastic",s=n.extend({opacity:1},t);delete s.position;if(i){t=this.getOrigPosition();e.openOpacity&&(t.opacity=.1)}else r==="fade"&&(t.opacity=.1);o.wrap.css(t).animate(s,{duration:r==="none"?0:e.openSpeed,easing:e.openEasing,step:i?this.step:null,complete:o._afterZoomIn})},zoomOut:function(){var e=o.current,t=e.closeEffect,n=t==="elastic",r={opacity:.1};if(n){r=this.getOrigPosition();e.closeOpacity&&(r.opacity=.1)}o.wrap.animate(r,{duration:t==="none"?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:o._afterZoomOut})},changeIn:function(){var e=o.current,t=e.nextEffect,n=e.pos,r={opacity:1},i=o.direction,s=200,u;n.opacity=.1;if(t==="elastic"){u=i==="down"||i==="up"?"top":"left";if(i==="down"||i==="right"){n[u]=v(d(n[u])-s);r[u]="+="+s+"px"}else{n[u]=v(d(n[u])+s);r[u]="-="+s+"px"}}t==="none"?o._afterZoomIn():o.wrap.css(n).animate(r,{duration:e.nextSpeed,easing:e.nextEasing,complete:o._afterZoomIn})},changeOut:function(){var e=o.previous,t=e.prevEffect,r={opacity:.1},i=o.direction,s=200;t==="elastic"&&(r[i==="down"||i==="up"?"top":"left"]=(i==="up"||i==="left"?"-":"+")+"="+s+"px");e.wrap.animate(r,{duration:t==="none"?0:e.prevSpeed,easing:e.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}};o.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!f,fixed:!0},overlay:null,fixed:!1,create:function(e){e=n.extend({},this.defaults,e);this.overlay&&this.close();this.overlay=n('<div class="fancybox-overlay"></div>').appendTo("body");this.fixed=!1;if(e.fixed&&o.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=!0}},open:function(e){var t=this;e=n.extend({},this.defaults,e);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e);if(!this.fixed){i
.bind("resize.overlay",n.proxy(this.update,this));this.update()}e.closeClick&&this.overlay.bind("click.overlay",function(e){n(e.target).hasClass("fancybox-overlay")&&(o.isActive?o.close():t.close())});this.overlay.css(e.css).show()},close:function(){n(".fancybox-overlay").remove();i.unbind("resize.overlay");this.overlay=null;if(this.margin!==!1){n("body").css("margin-right",this.margin);this.margin=!1}this.el&&this.el.removeClass("fancybox-lock")},update:function(){var e="100%",n;this.overlay.width(e).height("100%");if(u){n=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth);s.width()>n&&(e=s.width())}else s.width()>i.width()&&(e=s.width());this.overlay.width(e).height(s.height())},onReady:function(e,r){n(".fancybox-overlay").stop(!0,!0);if(!this.overlay){this.margin=s.height()>i.height()||n("body").css("overflow-y")==="scroll"?n("body").css("margin-right"):!1;this.el=t.all&&!t.querySelector?n("html"):n("body");this.create(e)}if(e.locked&&this.fixed){r.locked=this.overlay.append(r.wrap);r.fixed=!1}e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){if(t.locked){this.el.addClass("fancybox-lock");this.margin!==!1&&n("body").css("margin-right",d(this.margin)+t.scrollbarWidth)}this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!o.isActive&&this.overlay.fadeOut(e.speedOut,n.proxy(this.close,this))}};o.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=o.current,r=t.title,i=e.type,s,a;n.isFunction(r)&&(r=r.call(t.element,t));if(!c(r)||n.trim(r)==="")return;s=n('<div class="fancybox-title fancybox-title-'+i+'-wrap">'+r+"</div>");switch(i){case"inside":a=o.skin;break;case"outside":a=o.wrap;break;case"over":a=o.inner;break;default:a=o.skin;s.appendTo("body");u&&s.width(s.width());s.wrapInner('<span class="child"></span>');o.current.margin[2]+=Math.abs(d(s.css("margin-bottom")))}s[e.position==="top"?"prependTo":"appendTo"](a)}};n.fn.fancybox=function(e){var t,r=n(this),i=this.selector||"",u=function(s){var u=n(this).blur(),a=t,f,l;if(!(s.ctrlKey||s.altKey||s.shiftKey||s.metaKey)&&!u.is(".fancybox-wrap")){f=e.groupAttr||"data-fancybox-group";l=u.attr(f);if(!l){f="rel";l=u.get(0)[f]}if(l&&l!==""&&l!=="nofollow"){u=i.length?n(i):r;u=u.filter("["+f+'="'+l+'"]');a=u.index(this)}e.index=a;o.open(u,e)!==!1&&s.preventDefault()}};e=e||{};t=e.index||0;!i||e.live===!1?r.unbind("click.fb-start").bind("click.fb-start",u):s.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-item, .fancybox-nav')","click.fb-start",u);this.filter("[data-fancybox-start=1]").trigger("click");return this};s.ready(function(){n.scrollbarWidth===r&&(n.scrollbarWidth=function(){var e=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),r=t.innerWidth()-t.height(99).innerWidth();e.remove();return r});n.support.fixedPosition===r&&(n.support.fixedPosition=function(){var e=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=e[0].offsetTop===20||e[0].offsetTop===15;e.remove();return t}());n.extend(o.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")})})})(window,document,jQuery);(function(e){"use strict";var t=e.fancybox,n=function(t,n,r){r=r||"";e.type(r)==="object"&&(r=e.param(r,!0));e.each(n,function(e,n){t=t.replace("$"+e,n||"")});r.length&&(t+=(t.indexOf("?")>0?"&":"?")+r);return t};t.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(t,n,r){r.swf.flashVars="playerVars="+e.param(n,!0);return"//www.metacafe.com/fplayer/"+t[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[1]+"/"+e[3]+""+e[4]+"&output="+(e[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(t,r){var i=r.href||"",s=!1,o,u,a,f;for(o in t){u=t[o];a=i.match(u.matcher);if(a){s=u.type;f=e.extend(!0,{},u.params,r[o]||(e.isPlainObject(t[o])?t[o].params:null));i=e.type(u.url)==="function"?u.url.call(this,a,f,r):n(u.url,a,f);break}}if(s){r.href=i;r.type=s;r.autoHeight=!1}}}})(jQuery);(function(e){function t(){var e=document.createElement("input"),t="onpaste";e.setAttribute(t,"");return typeof e[t]=="function"?"paste":"input"}var n=t()+".mask",r=navigator.userAgent,i=/iphone/i.test(r),s=/android/i.test(r),o;e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"};e.fn.extend({caret:function(e,t){var n;if(this.length===0||this.is(":hidden"))return;if(typeof e=="number"){t=typeof t=="number"?t:e;return this.each(function(){if(this.setSelectionRange)this.setSelectionRange(e,t);else if(this.createTextRange){n=this.createTextRange();n.collapse(!0);n.moveEnd("character",t);n.moveStart("character",e);n.select()}})}if(this[0].setSelectionRange){e=this[0].selectionStart;t=this[0].selectionEnd}else if(document.selection&&document.selection.createRange){n=document.selection.createRange();e=0-n.duplicate().moveStart("character",-1e5);t=e+n.text.length}return{begin:e,end:t}},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var u,a,f,l,c,h;if(!t&&this.length>0){u=e(this[0]);return u.data(e.mask.dataName)()}r=e.extend({placeholder:e.mask.placeholder,completed:null},r);a=e.mask.definitions;f=[];l=h=t.length;c=null;e.each(t.split(""),function(e,t){if(t=="?"){h--;l=e}else if(a[t]){f.push(new RegExp(a[t]));c===null&&(c=f.length-1)}else f.push(null)});return this.trigger("unmask").each(function(){function v(e){while(++e<h&&!f[e]);return e}function m(e){while(--e>=0&&!f[e]);return e}function g(e,t){var n,i;if(e<0)return;for(n=e,i=v(t);n<h;n++)if(f[n]){if(!(i<h&&f[n].test(p[i])))break;p[n]=p[i];p[i]=r.placeholder;i=v(i)}S();u.caret(Math.max(c,e))}function y(e){var t,n,i,s;for(t=e,n=r.placeholder;t<h;t++)if(f[t]){i=v(t);s=p[t];p[t]=n;if(!(i<h&&f[i].test(s)))break;n=s}}function b(e){var t=e.which,n,r,s;if(t===8||t===46||i&&t===127){n=u.caret();r=n.begin;s=n.end;if(s-r===0){r=t!==46?m(r):s=v(r-1);s=t===46?v(s):s}E(r,s);g(r,s-1);e.preventDefault()}else if(t==27){u.val(d);u.caret(0,x());e.preventDefault()}}function w(t){var n=t.which,i=u.caret(),o,a,l;if(t.ctrlKey||t.altKey||t.metaKey||n<32)return;if(n){if(i.end-i.begin!==0){E(i.begin,i.end);g(i.begin,i.end-1)}o=v(i.begin-1);if(o<h){a=String.fromCharCode(n);if(f[o].test(a)){y(o);p[o]=a;S();l=v(o);s?setTimeout(e.proxy(e.fn.caret,u,l),0):u.caret(l);r.completed&&l>=h&&r.completed.call(u)}}t.preventDefault()}}function E(e,t){var n;for(n=e;n<t&&n<h;n++)f[n]&&(p[n]=r.placeholder)}function S(){u.val(p.join(""))}function x(e){var t=u.val(),n=-1,i,s;for(i=0,pos=0;i<h;i++)if(f[i]){p[i]=r.placeholder;while(pos++<t.length){s=t.charAt(pos-1);if(f[i].test(s)){p[i]=s;n=i;break}}if(pos>t.length)break}else if(p[i]===t.charAt(pos)&&i!==l){pos++;n=i}if(e)S();else if(n+1<l){u.val("");E(0,h)}else{S();u.val(u.val().substring(0,n+1))}return l?i:c}var u=e(this),p=e.map(t.split(""),function(e,t){if(e!="?")return a[e]?r.placeholder:e}),d=u.val();u.data(e.mask.dataName,function(){return e.map(p,function(e,t){return f[t]&&e!=r.placeholder?e:null}).join("")});u.attr("readonly")||u.one("unmask",function(){u.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(o);var e,n;d=u.val();e=x();o=setTimeout(function(){S();e==t.length?u.caret(0,e):u.caret(e)},10)}).bind("blur.mask",function(){x();u.val()!=d&&u.change()}).bind("keydown.mask",b).bind("keypress.mask",w).bind(n,function(){setTimeout(function(){var e=x(!0);u.caret(e);r.completed&&e==u.val().length&&r.completed.call(u)},0)});x()})}})})(jQuery);(function(e){e.extend(e.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var n=e.data(this[0],"validator");if(n)return n;this.attr("novalidate","novalidate");n=new e.validator(t,this[0]);e.data(this[0],"validator",n);if(n.settings.onsubmit){this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target);e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0)});this.submit(function(t){function r(){var r;if(n.settings.submitHandler){n.submitButton&&(r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm));n.settings.submitHandler.call(n,n.currentForm,t);n.submitButton&&r.remove();return!1}return!0}n.settings.debug&&t.preventDefault();if(n.cancelSubmit){n.cancelSubmit=!1;return r()}if(n.form()){if(n.pendingRequest){n.formSubmitted=!0;return!1}return r()}n.focusInvalid();return!1})}return n},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();this.each(function(){t&=n.element(this)});return t},removeAttrs:function(t){var n={},r=this;e.each(t.split(/\s/),function(e,t){n[t]=r.attr(t);r.removeAttr(t)});return n},rules:function(t,n){var r=this[0];if(t){var i=e.data(r.form,"validator").settings,s=i.rules,o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n));s[r.name]=o;n.messages&&(i.messages[r.name]=e.extend(i.messages[r.name],n.messages));break;case"remove":if(!n){delete s[r.name];return o}var u={};e.each(n.split(/\s/),function(e,t){u[t]=o[t];delete o[t]});return u}}var a=e.validator.normalizeRules(e.extend({},e.validator.metadataRules(r),e.validator.classRules(r),e.validator.attributeRules(r),e.validator.staticRules(r)),r);if(a.required){var f=a.required;delete a.required;a=e.extend({required:f},a)}return a}});e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}});e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t);this.currentForm=n;this.init()};e.validator.format=function(t,n){if(arguments.length===1)return function(){var n=e.makeArray(arguments);n.unshift(t);return e.validator.format.apply(this,n)};arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1));n.constructor!==Array&&(n=[n]);e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),n)});return t};e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e,t){this.lastActive=e;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(e)).hide()}},onfocusout:function(e,t){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)==="")return;(e.name in this.submitted||e===this.lastActive)&&this.element(e)},onclick:function(e,t){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var n=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");n.settings[r]&&n.settings[r].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm);this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t=this.groups={};e.each(this.settings.groups,function(n,r){e.each(r.split(/\s/),function(e,r){t[r]=n})});var n=this.settings.rules;e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)});e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r);this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();e.extend(this.submitted,this.errorMap);this.invalid=e.extend({},this.errorMap);this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t));this.lastElement=t;this.prepareElement(t);this.currentElements=e(t);var n=this.check(t)!==!1;n?delete this.invalid[t.name]:this.invalid[t.name]=!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));this.showErrors();return n},showErrors:function(t){if(t){e.extend(this.errorMap,t);this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in n||!t.objectLength(e(this).rules()))return!1;n[this.name]=!0;return!0})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=e([]);this.toHide=e([]);this.currentElements=e([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),r=e(t).val();return n==="radio"||n==="checkbox"?e('input[name="'+e(t).attr("name")+'"]:checked').val():typeof r=="string"?r.replace(/\r/g,""):r},check:function(t){t=this.validationTargetFor(this.clean(t));var n=e(t).rules(),r=!1,i=this.elementValue(t),s;for(var o in n){var u={method:o,parameters:n[o]};try{s=e.validator.methods[o].call(this,i,t,u.parameters);if(s==="dependency-mismatch"){r=!0;continue}r=!1;if(s==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!s){this.formatAndAdd(t,u);return!1}}catch(a){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+u.method+"' method",a);throw a}}if(r)return;this.objectLength(n)&&this.successList.push(t);return!0},customMetaMessage:function(t,n){if(!e.metadata)return;var r=this.settings.meta?e(t).metadata()[this.settings.meta]:e(t).metadata();return r&&r.messages&&r.messages[n]},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==undefined)return arguments[e];return undefined},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),this.customMetaMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var r=this.defaultMessage(t,n.method),i=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,n.parameters,t):i.test(r)&&(r=e.validator.format(r.replace(i,"{$1}"),n.parameters));this.errorList.push({message:r,element:t});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(e){this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper)));return e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass);this.showLabel(n.element,n.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r=this.errorsFor(t);if(r.length){r.removeClass(this.settings.validClass).addClass(this.settings.errorClass);r.attr("generated")&&r.html(n)}else{r=e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(n||"");this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent());this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))}if(!n&&this.settings.success){r.text("");typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t)}this.toShow=this.toShow.add(r)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]);return e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find('[name="'+t+'"]')},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e,t){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=!0}},stopRequest:function(t,n){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];if(n&&this.pendingRequest===0&&this.formSubmitted&&this.form()){e(this.currentForm).submit();this.formSubmitted=!1}else if(!n&&this.pendingRequest===0&&this.formSubmitted){e(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=!1}},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])});return n},attributeRules:function(t){var n={},r=e(t);for(var i in e.validator.methods){var s;if(i==="required"){s=r.get(0).getAttribute(i);s===""&&(s=!0);s=!!s}else s=r.attr(i);s?n[i]=s:r[0].getAttribute("type")===i&&(n[i]=!0)}n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength;return n},metadataRules:function(t){if(!e.metadata)return{};var n=e.data(t.form,"validator").settings.meta;return n?e(t).metadata()[n]:e(t).metadata()},staticRules:function(t){var n={},r=e.data(t.form,"validator");r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{});return n},normalizeRules:function(t,n){e.each(t,function(r,i){if(i===!1){delete t[r];return}if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=i.param!==undefined?i.param:!0:delete t[r]}});e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i});e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))});e.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])});if(e.validator.autoCreateRanges){if(t.min&&t.max){t.range=[t.min,t.max];delete t.min;delete t.max}if(t.minlength&&t.maxlength){t.rangelength=[t.minlength,t.maxlength];delete t.minlength;delete t.maxlength}}t.messages&&delete t.messages;return t},normalizeRule:function(t){if(typeof t=="string"){var n={};e.each(t.split(/\s/),function(){n[this]=!0});t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n;e.validator.messages[t]=r!==undefined?r:e.validator.messages[t];n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";if(n.nodeName.toLowerCase()==="select"){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},remote:function(t,n,r){if(this.optional(n))return"dependency-mismatch";var i=this.previousValue(n);this.settings.messages[n.name]||(this.settings.messages[n.name]={});i.originalMessage=this.settings.messages[n.name].remote;this.settings.messages[n.name].remote=i.message;r=typeof r=="string"&&{url:r}||r;if(this.pending[n.name])return"pending";if(i.old===t)return i.valid;i.old=t;var s=this;this.startRequest(n);var o={};o[n.name]=t;e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(r){s.settings.messages[n.name].remote=i.originalMessage;var o=r===!0||r==="true";if(o){var u=s.formSubmitted;s.prepareElement(n);s.formSubmitted=u;s.successList.push(n);delete s.invalid[n.name];s.showErrors()}else{var a={},f=r||s.defaultMessage(n,"remote");a[n.name]=i.message=e.isFunction(f)?f(t):f;s.invalid[n.name]=!0;s.showErrors(a)}i.valid=o;s.stopRequest(n,o)}},r));return"pending"},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i<=r},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var o=e.charAt(s);r=parseInt(o,10);i&&(r*=2)>9&&(r-=9);n+=r;i=!i}return n%10===0},equalTo:function(t,n,r){var i=e(r);this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()});return t===i.val()}}});e.format=e.validator.format})(jQuery);(function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){var i=e.port;if(e.mode==="abort"){t[i]&&t[i].abort();t[i]=r}});else{var n=e.ajax;e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;if(i==="abort"){t[s]&&t[s].abort();return t[s]=n.apply(this,arguments)}return n.apply(this,arguments)}}})(jQuery);(function(e){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&e.each({focus:"focusin",blur:"focusout"},function(t,n){function r(t){t=e.event.fix(t);t.type=n;return e.event.handle.call(this,t)}e.event.special[n]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){var r=arguments;r[0]=e.event.fix(t);r[0].type=n;return e.event.handle.apply(this,r)}}});e.extend(e.fn,{validateDelegate:function(t,n,r){return this.bind(n,function(n){var i=e(n.target);if(i.is(t))return r.apply(i,arguments)})}})})(jQuery);(function(e){function t(t,n){function r(t,n){var r=e(t.target).offset(),i;clearTimeout(C);C=!1;if(typeof t.changedTouches!="undefined"){i=Math.floor(t.changedTouches[0].pageX-r.left);r=Math.floor(t.changedTouches[0].pageY-r.top)}else{i=Math.floor(t.pageX-r.left);r=Math.floor(t.pageY-r.top)}if(T.x===i&&T.y===r)return!0;T.x===null&&(T.x=i);T.y===null&&(T.y=r);n&&(r+=n);x.beginPath();x.moveTo(T.x,T.y);x.lineTo(i,r);x.lineCap=b.penCap;x.stroke();x.closePath();N.push({lx:i,ly:r,mx:T.x,my:T.y});T.x=i;T.y=r}function i(){k?E.each(function(){this.removeEventListener("touchmove",r)}):E.unbind("mousemove.signaturepad");T.x=null;T.y=null;b.output&&N.length>0&&e(b.output,w).val(JSON.stringify(N))}function s(){i();x.clearRect(0,0,S.width,S.height);x.fillStyle=b.bgColour;x.fillRect(0,0,S.width,S.height);if(!b.displayOnly&&b.lineWidth){x.beginPath();x.lineWidth=b.lineWidth;x.strokeStyle=b.lineColour;x.moveTo(b.lineMargin,b.lineTop);x.lineTo(S.width-b.lineMargin,b.lineTop);x.stroke();x.closePath()}x.lineWidth=b.penWidth;x.strokeStyle=b.penColour;e(b.output,w).val("");N=[]}function o(e){k?E.each(function(){this.addEventListener("touchmove",r,!1)}):E.bind("mousemove.signaturepad",r);r(e,1)}function u(){L=!1;E.each(function(){if(this.removeEventListener){this.removeEventListener("touchend",i);this.removeEventListener("touchcancel",i);this.removeEventListener("touchmove",r)}this.ontouchstart&&(this.ontouchstart=null)});E.unbind("mousedown.signaturepad");E.unbind("mouseup.signaturepad");E.unbind("mousemove.signaturepad");E.unbind("mouseleave.signaturepad");e(b.clear,w).unbind("click.signaturepad")}function a(t){if(L)return!1;L=!0;e("input").blur();typeof t.changedTouches!="undefined"&&(k=!0);if(k){E.each(function(){this.addEventListener("touchend",i,!1);this.addEventListener("touchcancel",i,!1)});E.unbind("mousedown.signaturepad")}else{E.bind("mouseup.signaturepad",function(){i()});E.bind("mouseleave.signaturepad",function(){C||(C=setTimeout(function(){i();clearTimeout(C);C=!1},500))});E.each(function(){this.ontouchstart=null})}}function f(){e(b.typed,w).hide();s();E.each(function(){this.ontouchstart=function(e){e.preventDefault();a(e);o(e,this)}});E.bind("mousedown.signaturepad",function(e){a(e);o(e,this)});e(b.clear,w).bind("click.signaturepad",function(e){e.preventDefault();s()});e(b.typeIt,w).bind("click.signaturepad",function(e){e.preventDefault();l()});e(b.drawIt,w).unbind("click.signaturepad");e(b.drawIt,w).bind("click.signaturepad",function(e){e.preventDefault()});e(b.typeIt,w).removeClass(b.currentClass);e(b.drawIt,w).addClass(b.currentClass);e(b.sig,w).addClass(b.currentClass);e(b.typeItDesc,w).hide();e(b.drawItDesc,w).show();e(b.clear,w).show()}function l
(){s();u();e(b.typed,w).show();e(b.drawIt,w).bind("click.signaturepad",function(e){e.preventDefault();f()});e(b.typeIt,w).unbind("click.signaturepad");e(b.typeIt,w).bind("click.signaturepad",function(e){e.preventDefault()});e(b.output,w).val("");e(b.drawIt,w).removeClass(b.currentClass);e(b.typeIt,w).addClass(b.currentClass);e(b.sig,w).removeClass(b.currentClass);e(b.drawItDesc,w).hide();e(b.clear,w).hide();e(b.typeItDesc,w).show()}function h(t){for(e(b.typed,w).html(t.replace(/>/g,"&gt;").replace(/</g,"&lt;"));e(b.typed,w).width()>S.width;){t=e(b.typed,w).css("font-size").replace(/px/,"");e(b.typed,w).css("font-size",t-1+"px")}}function p(t,n){e("p."+n.errorClass,t).remove();t.removeClass(n.errorClass);e("input, label",t).removeClass(n.errorClass)}function d(t,n,r){if(t.nameInvalid){n.prepend(['<p class="',r.errorClass,'">',r.errorMessage,"</p>"].join(""));e(r.name,n).focus();e(r.name,n).addClass(r.errorClass);e("label[for="+e(r.name).attr("id")+"]",n).addClass(r.errorClass)}t.drawInvalid&&n.prepend(['<p class="',r.errorClass,'">',r.errorMessageDraw,"</p>"].join(""))}function v(){var t=!0,n={drawInvalid:!1,nameInvalid:!1},r=[w,b],i=[n,w,b];b.onBeforeValidate&&typeof b.onBeforeValidate=="function"?b.onBeforeValidate.apply(y,r):p.apply(y,r);if(b.drawOnly&&N.length<1){n.drawInvalid=!0;t=!1}if(e(b.name,w).val()===""){n.nameInvalid=!0;t=!1}b.onFormError&&typeof b.onFormError=="function"?b.onFormError.apply(y,i):d.apply(y,i);return t}function m(e,t,n){for(var r in e)if(typeof e[r]=="object"){t.beginPath();t.moveTo(e[r].mx,e[r].my);t.lineTo(e[r].lx,e[r].ly);t.lineCap=b.penCap;t.stroke();t.closePath();n&&N.push({lx:e[r].lx,ly:e[r].ly,mx:e[r].mx,my:e[r].my})}}function g(){if(parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1){e.fn.Oldoffset=e.fn.offset;e.fn.offset=function(){var t=e(this).Oldoffset();t.top-=window.scrollY;t.left-=window.scrollX;return t}}e(b.typed,w).bind("selectstart.signaturepad",function(t){return e(t.target).is(":input")});E.bind("selectstart.signaturepad",function(t){return e(t.target).is(":input")});!S.getContext&&FlashCanvas&&FlashCanvas.initElement(S);if(S.getContext){x=S.getContext("2d");e(b.sig,w).show();if(!b.displayOnly){if(!b.drawOnly){e(b.name,w).bind("keyup.signaturepad",function(){h(e(this).val())});e(b.name,w).bind("blur.signaturepad",function(){h(e(this).val())});e(b.drawIt,w).bind("click.signaturepad",function(e){e.preventDefault();f()})}b.drawOnly||b.defaultAction==="drawIt"?f():l();b.validateFields&&(e(t).is("form")?e(t).bind("submit.signaturepad",function(){return v()}):e(t).parents("form").bind("submit.signaturepad",function(){return v()}));e(b.sigNav,w).show()}}}var y=this,b=e.extend({},e.fn.signaturePad.defaults,n),w=e(t),E=e(b.canvas,w),S=E.get(0),x=null,T={x:null,y:null},N=[],C=!1,k=!1,L=!1;e.extend(y,{init:function(){g()},updateOptions:function(t){e.extend(b,t)},regenerate:function(t){y.clearCanvas();e(b.typed,w).hide();typeof t=="string"&&(t=JSON.parse(t));m(t,x,!0);b.output&&e(b.output,w).length>0&&e(b.output,w).val(JSON.stringify(N))},clearCanvas:function(){s()},getSignature:function(){return N},getSignatureString:function(){return JSON.stringify(N)},getSignatureImage:function(){var e=document.createElement("canvas"),t=null;t=null;e.style.position="absolute";e.style.top="-999em";e.width=S.width;e.height=S.height;document.body.appendChild(e);!e.getContext&&FlashCanvas&&FlashCanvas.initElement(e);t=e.getContext("2d");t.fillStyle=b.bgColour;t.fillRect(0,0,S.width,S.height);t.lineWidth=b.penWidth;t.strokeStyle=b.penColour;m(N,t);t=e.toDataURL.apply(e,arguments);document.body.removeChild(e);return t},validateForm:function(){return v()}})}e.fn.signaturePad=function(n){var r=null;this.each(function(){if(e.data(this,"plugin-signaturePad")){r=e.data(this,"plugin-signaturePad");r.updateOptions(n)}else{r=new t(this,n);r.init();e.data(this,"plugin-signaturePad",r)}});return r};e.fn.signaturePad.defaults={defaultAction:"typeIt",displayOnly:!1,drawOnly:!1,canvas:"canvas",sig:".sig",sigNav:".sigNav",bgColour:"#ffffff",penColour:"#145394",penWidth:2,penCap:"round",lineColour:"#ccc",lineWidth:2,lineMargin:5,lineTop:35,name:".name",typed:".typed",clear:".clearButton",typeIt:".typeIt a",drawIt:".drawIt a",typeItDesc:".typeItDesc",drawItDesc:".drawItDesc",output:".output",currentClass:"current",validateFields:!0,errorClass:"error",errorMessage:"Please enter your name",errorMessageDraw:"Please sign the document",onBeforeValidate:null,onFormError:null}})(jQuery);this.JSON||(this.JSON={});(function(){function f(e){return e<10?"0"+e:e}function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e));typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]";gap=o;return i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1){r=rep[n];if(typeof r=="string"){i=str(r,a);i&&u.push(quote(r)+(gap?": ":":")+i)}}}else for(r in a)if(Object.hasOwnProperty.call(a,r)){i=str(r,a);i&&u.push(quote(r)+(gap?": ":":")+i)}i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}";gap=o;return i}}if(typeof Date.prototype.toJSON!="function"){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="";indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)if(Object.hasOwnProperty.call(i,n)){r=walk(i,n);r!==undefined?i[n]=r:delete i[n]}return reviver.call(e,t,i)}var j;cx.lastIndex=0;cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})})();Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Date.firstDayOfWeek=1;Date.format="dd/mm/yyyy";Date.fullYearStart="20";(function(){function e(e,t){Date.prototype[e]||(Date.prototype[e]=t)}e("isLeapYear",function(){var e=this.getFullYear();return e%4==0&&e%100!=0||e%400==0});e("isWeekend",function(){return this.getDay()==0||this.getDay()==6});e("isWeekDay",function(){return!this.isWeekend()});e("getDaysInMonth",function(){return[31,this.isLeapYear()?29:28,31,30,31,30,31,31,30,31,30,31][this.getMonth()]});e("getDayName",function(e){return e?Date.abbrDayNames[this.getDay()]:Date.dayNames[this.getDay()]});e("getMonthName",function(e){return e?Date.abbrMonthNames[this.getMonth()]:Date.monthNames[this.getMonth()]});e("getDayOfYear",function(){var e=new Date("1/1/"+this.getFullYear());return Math.floor((this.getTime()-e.getTime())/864e5)});e("getWeekOfYear",function(){return Math.ceil(this.getDayOfYear()/7)});e("setDayOfYear",function(e){this.setMonth(0);this.setDate(e);return this});e("addYears",function(e){this.setFullYear(this.getFullYear()+e);return this});e("addMonths",function(e){var t=this.getDate();this.setMonth(this.getMonth()+e);t>this.getDate()&&this.addDays(-this.getDate());return this});e("addDays",function(e){this.setTime(this.getTime()+e*864e5);return this});e("addHours",function(e){this.setHours(this.getHours()+e);return this});e("addMinutes",function(e){this.setMinutes(this.getMinutes()+e);return this});e("addSeconds",function(e){this.setSeconds(this.getSeconds()+e);return this});e("zeroTime",function(){this.setMilliseconds(0);this.setSeconds(0);this.setMinutes(0);this.setHours(0);return this});e("asString",function(e){var n=e||Date.format;return n.split("yyyy").join(this.getFullYear()).split("yy").join((this.getFullYear()+"").substring(2)).split("dd").join(t(this.getDate())).split("d").join(this.getDate()).split("DD").join(this.getDayName(!1)).split("D").join(this.getDayName(!0)).split("mmmm").join(this.getMonthName(!1)).split("mmm").join(this.getMonthName(!0)).split("mm").join(t(this.getMonth()+1)).split("hh").join(t(this.getHours())).split("min").join(t(this.getMinutes())).split("ss").join(t(this.getSeconds()))});Date.fromString=function(e,t){var n=t||Date.format,r=new Date("01/01/1977"),i=0,s,o,u,a,f;s=n.indexOf("mmmm");if(s>-1){for(a=0;a<Date.monthNames.length;a++){f=e.substr(s,Date.monthNames[a].length);if(Date.monthNames[a]==f){i=Date.monthNames[a].length-4;break}}r.setMonth(a)}else{s=n.indexOf("mmm");if(s>-1){f=e.substr(s,3);for(a=0;a<Date.abbrMonthNames.length;a++)if(Date.abbrMonthNames[a]==f)break;r.setMonth(a)}else r.setMonth(Number(e.substr(n.indexOf("mm"),2))-1)}u=n.indexOf("yyyy");if(u>-1){s<u&&(u+=i);r.setFullYear(Number(e.substr(u,4)))}else{s<u&&(u+=i);r.setFullYear(Number(Date.fullYearStart+e.substr(n.indexOf("yy"),2)))}o=n.indexOf("dd");s<o&&(o+=i);r.setDate(Number(e.substr(o,2)));return isNaN(r.getTime())?!1:r};var t=function(e){var t="0"+e;return t.substring(t.length-2)}})();(function(e){function n(e){this.ele=e;this.displayedMonth=null;this.displayedYear=null;this.startDate=null;this.endDate=null;this.showYearNavigation=null;this.closeOnSelect=null;this.displayClose=null;this.rememberViewedMonth=null;this.selectMultiple=null;this.numSelectable=null;this.numSelected=null;this.verticalPosition=null;this.horizontalPosition=null;this.verticalOffset=null;this.horizontalOffset=null;this.button=null;this.renderCallback=[];this.selectedDates={};this.inline=null;this.context="#dp-popup";this.settings={}}function r(t){return t._dpId?e.event._dpCache[t._dpId]:!1}e.fn.extend({renderCalendar:function(t){var n=function(e){return document.createElement(e)};t=e.extend({},e.fn.datePicker.defaults,t);if(t.showHeader!=e.dpConst.SHOW_HEADER_NONE){var r=e(n("tr"));for(var i=Date.firstDayOfWeek;i<Date.firstDayOfWeek+7;i++){var s=i%7,o=Date.dayNames[s];r.append(jQuery(n("th")).attr({scope:"col",abbr:o,title:o,"class":s==0||s==6?"weekend":"weekday"}).html(t.showHeader==e.dpConst.SHOW_HEADER_SHORT?o.substr(0,1):o))}}var u=e(n("table")).attr({cellspacing:2}).addClass("jCalendar").append(t.showHeader!=e.dpConst.SHOW_HEADER_NONE?e(n("thead")).append(r):n("thead")),a=e(n("tbody")),f=(new Date).zeroTime();f.setHours(12);var l=t.month==undefined?f.getMonth():t.month,c=t.year||f.getFullYear(),h=new Date(c,l,1,12,0,0),p=Date.firstDayOfWeek-h.getDay()+1;p>1&&(p-=7);var d=Math.ceil((-1*p+1+h.getDaysInMonth())/7);h.addDays(p-1);var v=function(n){return function(){if(t.hoverClass){var r=e(this);t.selectWeek?n&&!r.is(".disabled")&&r.parent().addClass("activeWeekHover"):r.addClass(t.hoverClass)}}},m=function(){if(t.hoverClass){var n=e(this);n.removeClass(t.hoverClass);n.parent().removeClass("activeWeekHover")}},g=0;while(g++<d){var y=jQuery(n("tr")),b=t.dpController?h>t.dpController.startDate:!1;for(var i=0;i<7;i++){var w=h.getMonth()==l,E=e(n("td")).text(h.getDate()+"").addClass((w?"current-month ":"other-month ")+(h.isWeekend()?"weekend ":"weekday ")+(w&&h.getTime()==f.getTime()?"today ":"")).data("datePickerDate",h.asString()).hover(v(b),m);y.append(E);t.renderCallback&&t.renderCallback(E,h,l,c);h=new Date(h.getFullYear(),h.getMonth(),h.getDate()+1,12,0,0)}a.append(y)}u.append(a);return this.each(function(){e(this).empty().append(u)})},datePicker:function(t){e.event._dpCache||(e.event._dpCache=[]);t=e.extend({},e.fn.datePicker.defaults,t);return this.each(function(){var r=e(this),i=!0;if(!this._dpId){this._dpId=e.guid++;e.event._dpCache[this._dpId]=new n(this);i=!1}if(t.inline){t.createButton=!1;t.displayClose=!1;t.closeOnSelect=!1;r.empty()}var o=e.event._dpCache[this._dpId];o.init(t);if(!i&&t.createButton){o.button=e('<a href="#" class="dp-choose-date ss-icon" title="'+e.dpText.TEXT_CHOOSE_DATE+'">'+e.dpText.TEXT_CHOOSE_DATE+"</a>").bind("click",function(){r.dpDisplay(this);this.blur();return!1});r.after(o.button)}if(!i&&r.is(":text")){r.bind("dateSelected",function(e,t,n){this.value=t.asString()}).bind("change",function(){if(this.value=="")o.clearSelected();else{var e=Date.fromString(this.value);e&&o.setSelected(e,!0,!0)}});t.clickInput&&r.bind("click",function(){r.trigger("change");r.dpDisplay()});var u=Date.fromString(this.value);this.value!=""&&u&&o.setSelected(u,!0,!0)}r.addClass("dp-applied")})},dpSetDisabled:function(e){return t.call(this,"setDisabled",e)},dpSetStartDate:function(e){return t.call(this,"setStartDate",e)},dpSetEndDate:function(e){return t.call(this,"setEndDate",e)},dpGetSelected:function(){var e=r(this[0]);return e?e.getSelected():null},dpSetSelected:function(e,n,r,i){n==undefined&&(n=!0);r==undefined&&(r=!0);i==undefined&&(i=!0);return t.call(this,"setSelected",Date.fromString(e),n,r,i)},dpSetDisplayedMonth:function(e,n){return t.call(this,"setDisplayedMonth",Number(e),Number(n),!0)},dpDisplay:function(e){return t.call(this,"display",e)},dpSetRenderCallback:function(e){return t.call(this,"setRenderCallback",e)},dpSetPosition:function(e,n){return t.call(this,"setPosition",e,n)},dpSetOffset:function(e,n){return t.call(this,"setOffset",e,n)},dpClose:function(){return t.call(this,"_closeCalendar",!1,this[0])},dpRerenderCalendar:function(){return t.call(this,"_rerenderCalendar")},_dpDestroy:function(){}});var t=function(e,t,n,i,s){return this.each(function(){var o=r(this);o&&o[e](t,n,i,s)})};e.extend(n.prototype,{init:function(e){this.setStartDate(e.startDate);this.setEndDate(e.endDate);this.setDisplayedMonth(Number(e.month),Number(e.year));this.setRenderCallback(e.renderCallback);this.showYearNavigation=e.showYearNavigation;this.closeOnSelect=e.closeOnSelect;this.displayClose=e.displayClose;this.rememberViewedMonth=e.rememberViewedMonth;this.selectMultiple=e.selectMultiple;this.numSelectable=e.selectMultiple?e.numSelectable:1;this.numSelected=0;this.verticalPosition=e.verticalPosition;this.horizontalPosition=e.horizontalPosition;this.hoverClass=e.hoverClass;this.setOffset(e.verticalOffset,e.horizontalOffset);this.inline=e.inline;this.settings=e;if(this.inline){this.context=this.ele;this.display()}},setStartDate:function(e){e&&(e instanceof Date?this.startDate=e:this.startDate=Date.fromString(e));this.startDate||(this.startDate=(new Date).zeroTime());this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setEndDate:function(e){e&&(e instanceof Date?this.endDate=e:this.endDate=Date.fromString(e));this.endDate||(this.endDate=new Date("12/31/2999"));this.endDate.getTime()<this.startDate.getTime()&&(this.endDate=this.startDate);this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setPosition:function(e,t){this.verticalPosition=e;this.horizontalPosition=t},setOffset:function(e,t){this.verticalOffset=parseInt(e)||0;this.horizontalOffset=parseInt(t)||0},setDisabled:function(t){$e=e(this.ele);$e[t?"addClass":"removeClass"]("dp-disabled");if(this.button){$but=e(this.button);$but[t?"addClass":"removeClass"]("dp-disabled");$but.attr("title",t?"":e.dpText.TEXT_CHOOSE_DATE)}$e.is(":text")&&$e.attr("disabled",t?"disabled":"")},setDisplayedMonth:function(t,n,r){if(this.startDate==undefined||this.endDate==undefined)return;var i=new Date(this.startDate.getTime());i.setDate(1);var s=new Date(this.endDate.getTime());s.setDate(1);var o;if(!t&&!n||isNaN(t)&&isNaN(n)){o=(new Date).zeroTime();o.setDate(1)}else isNaN(t)?o=new Date(n,this.displayedMonth,1):isNaN(n)?o=new Date(this.displayedYear,t,1):o=new Date(n,t,1);o.getTime()<i.getTime()?o=i:o.getTime()>s.getTime()&&(o=s);var u=this.displayedMonth,a=this.displayedYear;this.displayedMonth=o.getMonth();this.displayedYear=o.getFullYear();if(r&&(this.displayedMonth!=u||this.displayedYear!=a)){this._rerenderCalendar();e(this.ele).trigger("dpMonthChanged",[this.displayedMonth,this.displayedYear])}},setSelected:function(t,n,r,i){if(t<this.startDate||t.zeroTime()>this.endDate.zeroTime())return;var s=this.settings;if(s.selectWeek){t=t.addDays(-(t.getDay()-Date.firstDayOfWeek+7)%7);if(t<this.startDate)return}if(n==this.isSelected(t))return;if(this.selectMultiple==0)this.clearSelected();else if(n&&this.numSelected==this.numSelectable)return;r&&(this.displayedMonth!=t.getMonth()||this.displayedYear!=t.getFullYear())&&this.setDisplayedMonth(t.getMonth(),t.getFullYear(),!0);this.selectedDates[t.asString()]=n;this.numSelected+=n?1:-1;var o="td."+(t.getMonth()==this.displayedMonth?"current-month":"other-month"),u;e(o,this.context).each(function(){if(e(this).data("datePickerDate")==t.asString()){u=e(this);s.selectWeek&&u.parent()[n?"addClass":"removeClass"]("selectedWeek");u[n?"addClass":"removeClass"]("selected")}});e("td",this.context).not(".selected")[this.selectMultiple&&this.numSelected==this.numSelectable?"addClass":"removeClass"]("unselectable");if(i){var s=this.isSelected(t);$e=e(this.ele);var a=Date.fromString(t.asString());$e.trigger("dateSelected",[a,u,s]);$e.trigger("change")}},isSelected:function(e){return this.selectedDates[e.asString()]},getSelected:function(){var e=[];for(var t in this.selectedDates)this.selectedDates[t]==1&&e.push(Date.fromString(t));return e},clearSelected:function(){this.selectedDates={};this.numSelected=0;e("td.selected",this.context).removeClass("selected").parent().removeClass("selectedWeek")},display:function(t){if(e(this.ele).is(".dp-disabled"))return;t=t||this.ele;var n=this,r=e(t),i=r.offset(),s,o,u,a;if(n.inline){s=e(this.ele);o={id:"calendar-"+this.ele._dpId,"class":"dp-popup dp-popup-inline"};e(".dp-popup",s).remove();a={}}else{s=e("body");o={id:"dp-popup","class":"dp-popup"};a={top:i.top+n.verticalOffset,left:i.left+n.horizontalOffset};var f=function(t){var r=t.target,i=e("#dp-popup")[0];for(;;){if(r==i)return!0;if(r==document){n._closeCalendar();return!1}r=e(r).parent()[0]}};this._checkMouse=f;n._closeCalendar(!0);e(document).bind("keydown.datepicker",function(e){e.keyCode==27&&n._closeCalendar()})}if(!n.rememberViewedMonth){var l=this.getSelected()[0];if(l){l=new Date(l);this.setDisplayedMonth(l.getMonth(),l.getFullYear(),!1)}}s.append(e("<div></div>").attr(o).css(a).append(e("<h2></h2>"),e('<div class="dp-nav-prev"></div>').append(e('<a class="dp-nav-prev-year ss-icon" href="#" title="'+e.dpText.TEXT_PREV_YEAR+'">&#x25C5;&#x25C5;</a>').bind("click",function(){return n._displayNewMonth.call(n,this,0,-1)}),e('<a class="dp-nav-prev-month ss-icon" href="#" title="'+e.dpText.TEXT_PREV_MONTH+'">&#x25C5;</a>').bind("click",function(){return n._displayNewMonth.call(n,this,-1,0)})),e('<div class="dp-nav-next"></div>').append(e('<a class="dp-nav-next-year ss-icon" href="#" title="'+e.dpText.TEXT_NEXT_YEAR+'">&#x25BB;&#x25BB;</a>').bind("click",function(){return n._displayNewMonth.call(n,this,0,1)}),e('<a class="dp-nav-next-month ss-icon" href="#" title="'+e.dpText.TEXT_NEXT_MONTH+'">&#x25BB;</a>').bind("click",function(){return n._displayNewMonth.call(n,this,1,0)})),e('<div class="dp-calendar"></div>')).bgIframe());var c=this.inline?e(".dp-popup",this.context):e("#dp-popup");this.showYearNavigation==0&&e(".dp-nav-prev-year, .dp-nav-next-year",n.context).css("display","none");this.displayClose&&c.append(e('<a href="#" id="dp-close">'+e.dpText.TEXT_CLOSE+"</a>").bind("click",function(){n._closeCalendar();return!1}));n._renderCalendar();e(this.ele).trigger("dpDisplayed",c);if(!n.inline){this.verticalPosition==e.dpConst.POS_BOTTOM&&c.css("top",i.top+r.height()-c.height()+n.verticalOffset);this.horizontalPosition==e.dpConst.POS_RIGHT&&c.css("left",i.left+r.width()-c.width()+n.horizontalOffset);e(document).bind("mousedown.datepicker",this._checkMouse)}},setRenderCallback:function(e){if(e==null)return;e&&typeof e=="function"&&(e=[e]);this.renderCallback=this.renderCallback.concat(e)},cellRender:function(t,n,r,i){var s=this.dpController,o=new Date(n.getTime());t.bind("click",function(){var t=e(this);if(!t.is(".disabled")){s.setSelected(o,!t.is(".selected")||!s.selectMultiple,!1,!0);if(s.closeOnSelect){if(s.settings.autoFocusNextInput){var n=s.ele,r=!1;e(":input",n.form).each(function(){if(r){e(this).focus();return!1}this==n&&(r=!0)})}else try{s.ele.focus()}catch(i){}s._closeCalendar()}}});if(s.isSelected(o)){t.addClass("selected");s.settings.selectWeek&&t.parent().addClass("selectedWeek")}else s.selectMultiple&&s.numSelected==s.numSelectable&&t.addClass("unselectable")},_applyRenderCallbacks:function(){var t=this;e("td",this.context).each(function(){for(var n=0;n<t.renderCallback.length;n++){$td=e(this);t.renderCallback[n].apply(this,[$td,Date.fromString($td.data("datePickerDate")),t.displayedMonth,t.displayedYear])}});return},_displayNewMonth:function(t,n,r){e(t).is(".disabled")||this.setDisplayedMonth(this.displayedMonth+n,this.displayedYear+r,!0);t.blur();return!1},_rerenderCalendar:function(){this._clearCalendar();this._renderCalendar()},_renderCalendar:function(){e("h2",this.context).html((new Date(this.displayedYear,this.displayedMonth,1)).asString(e.dpText.HEADER_FORMAT));e(".dp-calendar",this.context).renderCalendar(e.extend({},this.settings,{month:this.displayedMonth,year:this.displayedYear,renderCallback:this.cellRender,dpController:this,hoverClass:this.hoverClass}));if(this.displayedYear==this.startDate.getFullYear()&&this.displayedMonth==this.startDate.getMonth()){e(".dp-nav-prev-year",this.context).addClass("disabled");e(".dp-nav-prev-month",this.context).addClass("disabled");e(".dp-calendar td.other-month",this.context).each(function(){var t=e(this);Number(t.text())>20&&t.addClass("disabled")});var t=this.startDate.getDate();e(".dp-calendar td.current-month",this.context).each(function(){var n=e(this);Number(n.text())<t&&n.addClass("disabled")})}else{e(".dp-nav-prev-year",this.context).removeClass("disabled");e(".dp-nav-prev-month",this.context).removeClass("disabled");var t=this.startDate.getDate();if(t>20){var n=this.startDate.getTime(),r=new Date(n);r.addMonths(1);this.displayedYear==r.getFullYear()&&this.displayedMonth==r.getMonth()&&e(".dp-calendar td.other-month",this.context).each(function(){var t=e(this);Date.fromString(t.data("datePickerDate")).getTime()<n&&t.addClass("disabled")})}}if(this.displayedYear==this.endDate.getFullYear()&&this.displayedMonth==this.endDate.getMonth()){e(".dp-nav-next-year",this.context).addClass("disabled");e(".dp-nav-next-month",this.context).addClass("disabled");e(".dp-calendar td.other-month",this.context).each(function(){var t=e(this);Number(t.text())<14&&t.addClass("disabled")});var t=this.endDate.getDate();e(".dp-calendar td.current-month",this.context).each(function(){var n=e(this);Number(n.text())>t&&n.addClass("disabled")})}else{e(".dp-nav-next-year",this.context).removeClass("disabled");e(".dp-nav-next-month",this.context).removeClass("disabled");var t=this.endDate.getDate();if(t<13){var i=new Date(this.endDate.getTime());i.addMonths(-1);this.displayedYear==i.getFullYear()&&this.displayedMonth==i.getMonth()&&e(".dp-calendar td.other-month",this.context).each(function(){var n=e(this),r=Number(n.text());r<13&&r>t&&n.addClass("disabled")})}}this._applyRenderCallbacks()},_closeCalendar:function(t,n){if(!n||n==this.ele){e(document).unbind("mousedown.datepicker");e(document).unbind("keydown.datepicker");this._clearCalendar();e("#dp-popup a").unbind();e("#dp-popup").empty().remove();t||e(this.ele).trigger("dpClosed",[this.getSelected()])}},_clearCalendar:function(){e(".dp-calendar td",this.context).unbind();e(".dp-calendar",this.context).empty()}});e.dpConst={SHOW_HEADER_NONE:0,SHOW_HEADER_SHORT:1,SHOW_HEADER_LONG:2,POS_TOP:0,POS_BOTTOM:1,POS_LEFT:0,POS_RIGHT:1,DP_INTERNAL_FOCUS:"dpInternalFocusTrigger"};e.dpText={TEXT_PREV_YEAR:"Previous year",TEXT_PREV_MONTH:"Previous month",TEXT_NEXT_YEAR:"Next year",TEXT_NEXT_MONTH:"Next month",TEXT_CLOSE:"Close",TEXT_CHOOSE_DATE:"calendar",HEADER_FORMAT:"mmmm yyyy"};e.dpVersion="$Id$";e.fn.datePicker.defaults={month:undefined,year:undefined,showHeader:e.dpConst.SHOW_HEADER_SHORT,startDate:undefined,endDate:undefined,inline:!1,renderCallback:null,createButton:!0,showYearNavigation:!0,closeOnSelect:!0,displayClose:!1,selectMultiple:!1,numSelectable:Number.MAX_VALUE,clickInput:!1,rememberViewedMonth:!0,selectWeek:!1,verticalPosition:e.dpConst.POS_TOP,horizontalPosition:e.dpConst.POS_LEFT,verticalOffset:0,horizontalOffset:0,hoverClass:"dp-hover",autoFocusNextInput:!1};e.fn.bgIframe==undefined&&(e.fn.bgIframe=function(){return this});e(window).bind("unload",function(){var t=e.event._dpCache||[];for(var n in t)e(t[n].ele)._dpDestroy()})})(jQuery);if(/(MSIE [7-9]\.|Opera.*Version\/(10\.[5-9]|(11|12)\.)|Chrome\/([1-9]|10)\.|Version\/[2-4][\.0-9]+ Safari\/|Version\/(4\.0\.[4-9]|4\.[1-9]|5\.0)[\.0-9]+? Mobile\/.*Safari\/|Android [1-2]\.)/.test(navigator.userAgent)){var ss_set={"github octocat":"",googleplus:"",foursquare:"","thumbs up":"",wordpress:"",posterous:"",pinterest:"",instagram:"",linkedin:"",thumbsup:"",dribbble:"",facebook:"",envelope:"","rss feed":"",behance:"",twitter:"",octocat:"",youtube:"","google+":"",spotify:"",approve:"","last fm":"",blogger:"",paypal:"",flickr:"",github:"",tumblr:"",lastfm:"",email:"",vimeo:"",skype:"",mail:"",like:"",rdio:"",rss:""};if(typeof ss_icons!="object"||typeof ss_icons!="object"){var ss_icons=ss_set,ss_keywords=[];for(var i in ss_set)ss_keywords.push(i)}else for(var i in ss_set){ss_icons[i]=ss_set[i];ss_keywords.push(i)}if(typeof ss_legacy!="function"){!function(e,t){typeof module!="undefined"?module.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[e]=t()}("ss_ready",function(e){function t(e){h=1;while(e=n.shift())e()}var n=[],r,i=!1,s=document,o=s.documentElement,u=o.doScroll,a="DOMContentLoaded",f="addEventListener",l="onreadystatechange",c="readyState",h=/^loade|c/.test(s[c]);return s[f]&&s[f](a,r=function(){s.removeEventListener(a,r,i),t()},i),u&&s.attachEvent(l,r=function(){/^c/.test(s[c])&&(s.detachEvent(l,r),t())}),e=u?function(t){self!=top?h?t():n.push(t):function(){try{o.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){h?e():n.push(e)}});var ss_legacy=function(e){if(!e instanceof Object)return!1;if(e.length){for(var t=0;t<e.length;t++)ss_legacy(e[t]);return}e.value?e.value=ss_liga(e.value):e.nodeValue?e.nodeValue=ss_liga(e.nodeValue):e.innerHTML&&(e.innerHTML=ss_liga(e.innerHTML))},ss_getElementsByClassName=function(e,t){var n=[],r=new RegExp("(^| )"+t+"( |$)"),i=e.getElementsByTagName("*");for(var s=0,o=i.length;s<o;s++)r.test(i[s].className)&&n.push(i[s]);return n},ss_liga=function(e){var t=new RegExp(ss_keywords.join("|").replace(/[-[\]{}()*+?.,\\^$#\s]/g,"\\$&"),"gi");return e.replace(t,function(e){return ss_icons[e.toLowerCase()]})};ss_ready(function(){document.getElementsByClassName?ss_legacy(document.getElementsByClassName("ss-icon")):ss_legacy(ss_getElementsByClassName(document.body,"ss-icon"))})}}if(/(MSIE [7-9]\.|Opera.*Version\/(10\.[5-9]|(11|12)\.)|Chrome\/([1-9]|10)\.|Version\/[2-4][\.0-9]+ Safari\/|Version\/(4\.0\.[4-9]|4\.[1-9]|5\.0)[\.0-9]+? Mobile\/.*Safari\/|Android [1-2]\.)/.test(navigator.userAgent)){var ss_set={"notifications disabled":"",notificationsdisabled:"","notification disabled":"",notificationdisabled:"","telephone disabled":"",telephonedisabled:"","writing disabled":"",writingdisabled:"","pencil disabled":"","remove calendar":"","calendar remove":"","calendar delete":"","delete calendar":"",pencildisabled:"","phone disabled":"","medium battery":"","battery medium":"","download cloud":"","cloud download":"",removecalendar:"",calendarremove:"","check calendar":"","calendar check":"",calendardelete:"",deletecalendar:"","navigate right":"",phonedisabled:"","call disabled":"","female avatar":"","shopping cart":"",mediumbattery:"",batterymedium:"","empty battery":"","battery empty":"",downloadcloud:"",clouddownload:"",notifications:"","bell disabled":"",checkcalendar:"",calendarcheck:"",navigateright:"","navigate down":"","navigate left":"",calldisabled:"",femaleavatar:"",shoppingcart:"","fast forward":"","skip forward":"","mobile phone":"","full battery":"","battery full":"","high battery":"","battery high":"",emptybattery:"",batteryempty:"","upload cloud":"","cloud upload":"","rotate right":"",notification:"",belldisabled:"","add calendar":"","calendar add":"",navigatedown:"",navigateleft:"","direct right":"","thumbs down":"","male avatar":"","female user":"","credit card":"","dollar sign":"","high volume":"","volume high":"",photographs:"",videocamera:"",fastforward:"",skipforward:"","rotate left":"",mobilephone:"",fullbattery:"",batteryfull:"",highbattery:"",batteryhigh:"","low battery":"","battery low":"",uploadcloud:"",cloudupload:"",rotateright:"",information:"",addcalendar:"",calendaradd:"","remove date":"","delete date":"","navigate up":"",directright:"","direct down":"","direct left":"",screenshot:"",visibility:"",attachment:"",disapprove:"",thumbsdown:"","half heart":"",eyedropper:"",maleavatar:"",femaleuser:"",creditcard:"",dollarsign:"",navigation:"",directions:"","hard drive":"",microphone:"","low volume":"","volume low":"",highvolume:"",volumehigh:"",photograph:"",rotateleft:"",thumbnails:"","cell phone":"",smartphone:"",lowbattery:"",batterylow:"",connection:"","pull quote":"",removedate:"","check date":"",deletedate:"","down right":"",navigateup:"",descending:"",directdown:"",directleft:"",crosshair:"",paperclip:"",backspace:"","thumbs up":"",halfheart:"","half star":"",telephone:"","male user":"","bar chart":"","pie chart":"",harddrive:"",musicnote:"",lowvolume:"",volumelow:"","skip back":"","open book":"",cellphone:"",pullquote:"",checkmark:"",dashboard:"",stopwatch:"",checkdate:"",briefcase:"",downright:"","down left":"",ascending:"","direct up":"","zoom out":"",unlocked:"",insecure:"",trashcan:"",keywords:"",bookmark:"",thumbsup:"",favorite:"",halfstar:"","end call":"",facetime:"",envelope:"",maleuser:"",barchart:"",piechart:"",navigate:"",signpost:"",location:"",database:"",pictures:"",skipback:"",openbook:"",notebook:"",computer:"",download:"",document:"",typeface:"",redirect:"",contract:"",question:"","sign out":"",subtract:"-",settings:"",calendar:"","add date":"","up right":"",downleft:"",previous:"",directup:"",dropdown:"","zoom in":"",zoomout:"",visible:"",compose:"","private":"",keyword:"",approve:"",dislike:"",windows:"",endcall:"",comment:"",avatars:"","package":"",compass:"",dictate:"",speaker:"",airplay:"",picture:"",shuffle:"",columns:"",desktop:"",display:"",monitor:"",battery:"",refresh:"",syncing:"",loading:"",printer:"",warning:"",caution:"","log out":"",signout:"",checked:"",adddate:"",droplet:"",upright:"",forward:"","up left":"",descend:"",retweet:"",cursor:"",search:"",zoomin:"",attach:"",pencil:"",eraser:"",locked:"",secure:"",unlock:"","public":"",target:"",tagged:"",sample:"",layers:"",avatar:"",locate:"",volume:"",camera:"",images:"",photos:"",videos:"",record:"",rewind:"",repeat:""
,replay:"",laptop:"",tablet:"",iphone:"",mobile:"",upload:"",folder:"",layout:"",action:"",expand:"",logout:"",hyphen:"-",remove:"-","delete":"",upleft:"",ascend:"",write:"",erase:"",trash:"",heart:"",zelda:"",phone:"",reply:"",email:"",inbox:"",users:"",price:"",globe:"",earth:"",world:"",music:"",audio:"",sound:"",image:"",photo:"",video:"",pause:"",eject:"",merge:"",nodes:"",quote:"",print:"",share:"",visit:"",alert:"",minus:"-",check:"",close:"",clock:"",timer:"",cloud:"",right:"",zoom:"",view:"",look:"",link:"",move:"",edit:"",lock:"",tags:"",flag:"",like:"",love:"",star:"",crop:"",call:"",send:"",mail:"",chat:"",talk:"",user:"",cart:"",cost:"",home:"",play:"",stop:"",skip:"",undo:"",book:"",grid:"",rows:"",ipad:"",cell:"",fork:"",redo:"",sync:"",wifi:"",file:"",page:"",text:"",font:"",list:"",help:"",info:"",exit:"",plus:"+",gear:"",bell:"",time:"",date:"",work:"",drop:"",down:"",left:"",back:"",next:"",eye:"",key:"",ban:"",tag:"",rss:"",box:"",map:"",pin:"",hdd:"",mic:"",fax:"",out:"",add:"+",cog:"",up:""};if(typeof ss_icons!="object"||typeof ss_icons!="object"){var ss_icons=ss_set,ss_keywords=[];for(var i in ss_set)ss_keywords.push(i)}else for(var i in ss_set){ss_icons[i]=ss_set[i];ss_keywords.push(i)}if(typeof ss_legacy!="function"){!function(e,t){typeof module!="undefined"?module.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[e]=t()}("ss_ready",function(e){function t(e){h=1;while(e=n.shift())e()}var n=[],r,i=!1,s=document,o=s.documentElement,u=o.doScroll,a="DOMContentLoaded",f="addEventListener",l="onreadystatechange",c="readyState",h=/^loade|c/.test(s[c]);return s[f]&&s[f](a,r=function(){s.removeEventListener(a,r,i),t()},i),u&&s.attachEvent(l,r=function(){/^c/.test(s[c])&&(s.detachEvent(l,r),t())}),e=u?function(t){self!=top?h?t():n.push(t):function(){try{o.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){h?e():n.push(e)}});var ss_legacy=function(e){if(!e instanceof Object)return!1;if(e.length){for(var t=0;t<e.length;t++)ss_legacy(e[t]);return}e.value?e.value=ss_liga(e.value):e.nodeValue?e.nodeValue=ss_liga(e.nodeValue):e.innerHTML&&(e.innerHTML=ss_liga(e.innerHTML))},ss_getElementsByClassName=function(e,t){var n=[],r=new RegExp("(^| )"+t+"( |$)"),i=e.getElementsByTagName("*");for(var s=0,o=i.length;s<o;s++)r.test(i[s].className)&&n.push(i[s]);return n},ss_liga=function(e){var t=new RegExp(ss_keywords.join("|").replace(/[-[\]{}()*+?.,\\^$#\s]/g,"\\$&"),"gi");return e.replace(t,function(e){return ss_icons[e.toLowerCase()]})};ss_ready(function(){document.getElementsByClassName?ss_legacy(document.getElementsByClassName("ss-icon")):ss_legacy(ss_getElementsByClassName(document.body,"ss-icon"))})}}$(function(){$(".js-nav-trigger").on("click",function(){$(this).next(".menu").slideToggle(300);$(this).toggleClass("open")});$(".feature").orbit({animation:"fade",fluid:!0,bullets:!0,centerBullets:!1,captions:!0,captionAnimation:"none",pauseOnHover:!0,captionAnimationSpeed:600});$(".field.required input").addClass("required");Date.firstDayOfWeek=0;Date.format="mm/dd/yyyy";$(".date-input").datePicker({startDate:"01/01/1940",clickInput:!1,createButton:!1}).mask("99/99/9999");$(".dp-choose-date").click(function(e){e.preventDefault();var t=$(this),n=t.closest(".row").find(".date-input"),r=n.outerWidth();n.dpSetOffset(0,r-120).dpDisplay()});$(".ssn").mask("999-99-9999");$(".phone").mask("(999) 999-9999");$(".fancybox").length&&$(".fancybox").fancybox({helpers:{media:{}}});var e=$(".sigPad").width();sigWidthSubtract=e*.1;e-=sigWidthSubtract;$(".pad").attr("width",e);$(".sigPad").signaturePad({bgColour:"transparent",lineColour:"#aeb5b1",lineTop:60,drawOnly:!0,errorMessage:"",errorClass:"parsley-error"})});